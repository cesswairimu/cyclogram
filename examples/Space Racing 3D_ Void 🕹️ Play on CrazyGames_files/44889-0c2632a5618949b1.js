"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44889],{90611:function(e,t,n){n.d(t,{J:function(){return i}});var a=n(67294),r=n(380);let i=e=>{let{game:t}=e,{setPlayingGame:n,resetGameInvites:i,setGameInviteLink:o}=a.useContext(r.DN);return a.useEffect(()=>{if(t)return n(t),()=>{n(null),o(null),i()}},[t,i,o,n]),null}},3242:function(e,t,n){n.d(t,{Ue:function(){return s},cn:function(){return i},iA:function(){return o}});let a=!1,r=[];function i(){a=!0,r.forEach(e=>e()),r=[]}function o(){a=!1,r=[]}function s(e){if(a){e();return}r.push(e)}},84290:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(85893),r=n(67294),i=n(89950),o=n(84973),s=n(37899),l=n(17784),c=n(74040),u=n(13422);let d=e=>{let{gameId:t}=e,{services:n}=r.useContext(s.Z),{user:a}=r.useContext(c.S),{syncPlayedTime:i}=r.useContext(u.rh),o=r.useRef(Date.now()),d={};l.aQ.forEach(e=>{d[e]=!1});let g=r.useRef(d),{gamesPlayedService:m,analyticsService:p}=n;r.useEffect(()=>()=>{i()},[i,t]);let h=(0,r.useCallback)(()=>{let e=Math.round((Date.now()-o.current)/1e3);m.handlePlayedTimeForSession(t,e),l.aQ.forEach(n=>{e>=60*n&&!g.current[n]&&(p.trackSessionPlaytimeRanges(t,n),g.current[n]=!0)})},[t,m,p]),f=(0,r.useCallback)(()=>{if(!a)return;let e=Math.round((Date.now()-o.current)/1e3);m.handlePlayedTimeForUPSync(t,e)},[a,t,m]);return r.useEffect(()=>{a&&f()},[a,f]),r.useEffect(()=>{let e=null,t=()=>{e=window.setInterval(()=>{f(),h()},l.rP)},n=()=>{e&&(window.clearInterval(e),f(),h(),e=null)},a=()=>{document.hidden?n():t()};return t(),document.addEventListener("visibilitychange",a),function(){document.removeEventListener("visibilitychange",a),e&&window.clearInterval(e)}},[h,f]),null};var g=n(32017),m=n(69395),p=n(3242),h=n(92975),f=n(58752);class y extends r.Component{addToRecentTimeout=null;gameStartTime=0;constructor(e){super(e),this.state={trackTime:!1}}render(){let{game:e}=this.props,{trackTime:t}=this.state;return t&&(0,a.jsx)(d,{gameId:e.id})}componentDidMount(){let{services:e,game:t}=this.props;e.crazyAnalyticsService.gamePageLoaded(t.id),window.addEventListener("message",this.processMessage),window.addEventListener("pagehide",this.pageUnload)}componentWillUnmount(){this.savePlayedGameTime(),this.clearGameTracking(),window.removeEventListener("pagehide",this.pageUnload),window.removeEventListener("message",this.processMessage),this.props.services.crazyAnalyticsService.gamePageExited()}pageUnload=()=>{this.savePlayedGameTime()};processMessage=e=>{if(e.data&&e.data.type===i.V)switch(e.data.event){case"afterPlayNow":(0,g.hO)("afterPlayNow");break;case"gameStartLoad":(0,g.hO)("gameStartLoad");break;case"gameLoaded":let{gfVersion:t}=e.data,n=this.props.experiment?.czyExpIsPrefetchEnabled2==="enabled"&&!this.props.deviceType.isDesktop;if(!n){this.handlePlayerStartedPlaying(t);return}(0,p.Ue)(()=>{this.handlePlayerStartedPlaying(t)})}};handlePlayerStartedPlaying(e){(0,g.hO)("afterGameLoad"),this.setGameTracking(e),this.addToRecent()}addToRecent(){this.addToRecentTimeout=window.setTimeout(this.delayedAddToRecent,45e3)}delayedAddToRecent=()=>{let{game:e,userRecent:t}=this.props;t.addToRecent({id:e.id,slug:e.slug,name:e.name,cover:e.cover,videos:e.videos,status:e.status,iosFriendly:e.iosFriendly,androidFriendly:e.androidFriendly,mobileFriendly:!!(e.iosFriendly||e.androidFriendly),gameThumbLabels:[],playedTime:45})};setGameTracking(e){let{services:t,game:n}=this.props,{gamesPlayedService:a,crazyAnalyticsService:r}=t;a.startedPlayingGame(n),this.gameStartTime=Date.now();let i=f.Do(n.slug)?.numPlays||1;r.playingStarts({gfVersion:e,gameId:n.id,numPlays:i}),(0,f.ug)(n.slug),this.setState({trackTime:!0})}savePlayedGameTime(){let{game:e,services:t}=this.props;if(this.gameStartTime){let n=Math.min(27e5,Date.now()-this.gameStartTime);t.gamesPlayedService.trackPlayedTime(e.slug,n)}}clearGameTracking(){this.addToRecentTimeout&&window.clearTimeout(this.addToRecentTimeout),this.setState({trackTime:!1})}}var w=(0,o.Z)((0,u.VP)((0,h.Z)(function(e){let t=t=>{let n=r.useContext(m.T);return(0,a.jsx)(e,{experiment:n,...t})};return t}(y))))},60081:function(e,t,n){var a=n(85893),r=n(67294),i=n(9008),o=n.n(i),s=n(33209),l=n(50513),c=n(8697);let u=e=>{let{canonical:t,title:n,description:i,imageUrl:u="crazygames/share.png",imageWidth:d=1200,imageHeight:g=630,type:m}=e,{locale:p}=r.useContext(c.Z),h=(0,l.ZP)(u,{w:d,h:g,fit:"crop"});return(0,a.jsxs)(o(),{children:[(0,a.jsx)("meta",{property:"og:url",content:t}),(0,a.jsx)("meta",{property:"og:title",content:n}),(0,a.jsx)("meta",{property:"og:description",content:i}),(0,a.jsx)("meta",{property:"og:locale",content:(0,s.Ld)(p)}),(0,a.jsx)("meta",{property:"og:image",content:h}),(0,a.jsx)("meta",{property:"og:image:width",content:d.toString()}),(0,a.jsx)("meta",{property:"og:image:height",content:g.toString()}),m&&(0,a.jsx)("meta",{property:"og:type",content:m}),(0,a.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{property:"twitter:url",content:t}),(0,a.jsx)("meta",{property:"twitter:title",content:n}),(0,a.jsx)("meta",{property:"twitter:description",content:i}),(0,a.jsx)("meta",{property:"twitter:image",content:h})]})};t.Z=u},26830:function(e,t,n){n.d(t,{$W:function(){return h},LG:function(){return P},Q6:function(){return y},Qq:function(){return m},U9:function(){return p},_:function(){return v},_Y:function(){return u},_f:function(){return G},ak:function(){return f},bM:function(){return d},et:function(){return T},h7:function(){return w},tO:function(){return g}});var a=n(45703),r=n(75538),i=n(29338),o=n(46313),s=n(33209),l=n(88642);function c(e){let t=o.Z.Instance.data.domains,n=t.map(t=>{let n={...r.t},o=new a.Z(n),s=o.generateHome({page:e});if(!s)return null;let l=(0,i.Z)(t.host,s.as,{}).toString();return{locale:t.locale,href:l.toString(),host:t.host}});return n.filter(e=>!!e)}function u(e){return x(e=>e.generateCompetitions(),{},e,"competitions")}function d(e){return x(e=>e.generateScholarship(),{},e,"scholarship")}function g(e){return x(e=>e.generateRecent(),{},e,"recent")}function m(e){return x(e=>e.generateOriginals(),{},e,"originals")}function p(e){return x(e=>e.generateTags(),{},e,"tags")}function h(e,t){return x((e,t)=>e.generateGame(t),{slug:e},t,"game")}function f(e){return x(e=>e.generateGameChallenge(),{},e,"game-challenge")}function y(e){return x(e=>e.generatePrivacyPolicy(),{},e,"privacyPolicy")}function w(e){return x(e=>e.generateTermsAndConditions(),{},e,"termsAndConditions")}function v(e){return x(e=>e.generateSearch(),{},e,"search")}async function T(e,t,n,a,r){if(r)return c(a);if(t&&"hot"===t)return x(e=>e.generatePaginatedHotGames({page:a}),{},await n.getRouteProviderData("hotGames"),"hotGames");switch(e){case l.Fi:let i=await n.getRouteProviderData("newGames");return x(e=>e.generatePaginatedNewGames({page:a}),{},i,"newGames");case l.sc:case l.K6:return x(e=>e.generatePaginatedUpdatedGames({page:a}),{},await n.getRouteProviderData("updatedGames"),"updatedGames");default:return console.warn(`unexpected sorting in games ${e}`),c(a)}}async function P(e,t,n){if(e.isCategory){let a=await t.getRouteProviderData("category");return x((e,t)=>e.generateCategory(t),{slugTrl:e.slug,page:n},a,"category")}{let a=await t.getRouteProviderData("tag");return x((e,t)=>e.generateTag(t),{slugTrl:e.slug,page:n},a,"tag")}}function G(e,t){return x(t=>t.generateAllGames(e),{},t,"allGames")}function x(e,t,n,l){let c=function(e){let t=o.Z.Instance.data.domains,n=e.map(e=>{let n=t.find(t=>{let n=(0,s.Ld)(t.locale);return n===e.locale});return{domain:n,routeData:e}});return n}(n),u=c.map(n=>{let o={...r.t,[l]:n.routeData.route,locale:n.routeData.locale},s=new a.Z(o),c=e(s,t);if(!c||!n.domain)return null;let u=(0,i.Z)(n.domain.host,c.as,{}).toString();return{locale:n.domain.locale,href:u.toString(),host:n.domain.host}});return u.filter(e=>!!e)}},75538:function(e,t,n){n.d(t,{P:function(){return a},t:function(){return r}});let a=["newGames","updatedGames","hotGames","tags","category","tag","game","preview","termsAndConditions","informationForParents","privacyPolicy","10-anniversary","game-challenge","recent","originals","search","scholarship","competitions","pwa","pwaInstall","allGames"],r={newGames:"",updatedGames:"",hotGames:"",tags:"",category:"",tag:"",game:"",preview:"",termsAndConditions:"",privacyPolicy:"","10-anniversary":"","game-challenge":"",recent:"",originals:"",search:"",pwa:"",pwaInstall:"",allGames:"",locale:""}}}]);