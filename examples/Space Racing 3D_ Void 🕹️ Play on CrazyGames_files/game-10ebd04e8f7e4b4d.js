(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79203],{10134:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return a(77447)}])},50108:function(e,t,a){"use strict";var r,n;a.d(t,{R:function(){return r}}),(n=r||(r={})).UNITY="unity",n.IFRAME="iframe",n.LINK="link",n.MINICLIP="miniclip",n.SWFVIEWER="swfviewer",n.RUFFLE="ruffle"},44898:function(e,t,a){"use strict";var r=a(50319),n=a(73359),s=a(67294),i=a(21046),l=a(89950),o=a(74040),u=a(95129),c=a(42257);async function d(e){let t=await fetch(e,{method:"GET"}),a=await t.text();return a}let m=e=>{let{gameId:t,gameTechnology:a}=e,{user:m}=s.useContext(o.S),g=s.useContext(u.Z),p=s.useContext(c.ZP),[f]=(0,r.D)(i._l),[y]=(0,r.D)(i.dO),[h,b]=(0,n.t)(i.kJ),v=s.useRef([]);return s.useEffect(()=>{if(!b.called||b.loading)return;let e=b.data?.gameData;b.error?(v.current.forEach(e=>{e({type:"requestGameDataNone"})}),v.current=[]):e&&e.dataUrl?d(e.dataUrl).then(t=>{let a={...e,data:t};v.current.forEach(e=>{e({type:"requestGameDataResponse",data:{store:a,error:b.error}})}),v.current=[]}):(v.current.forEach(e=>{e({type:"requestGameDataResponse",data:{store:void 0,error:b.error}})}),v.current=[])},[b]),s.useEffect(()=>{let e=e=>{let r=t=>{let a=e.source;a&&a.postMessage(t,"*")};m?(v.current=[r,...v.current],h({variables:{id:t,technology:a},fetchPolicy:"network-only"})):v.current.forEach(e=>{e({type:"requestGameDataResponse",data:{store:void 0,error:null}})})},r=e=>{let{store:r,version:n,updatedAtTz:s,playedTime:i}=e.data,l=JSON.stringify(r),o=g.browser?.name||"",u=(0,c.cy)(p);f({variables:{input:{data:l,id:t,technology:a,version:n,browser:o,playedTime:i,deviceType:u,updatedAtTz:s}}})},n=e=>{let{version:r}=e.data,n=g.browser?.name||"",s=(0,c.cy)(p);y({variables:{input:{id:t,technology:a,version:r,browser:n,deviceType:s}}})},s=t=>{if(t.data&&t.data.type===l.V)switch(t.data.event){case"requestGameData":e(t);break;case"updateGameData":case"replaceGameData":m&&r(t);break;case"clearGameData":m&&n(t);break;default:return}};return window.addEventListener("message",s),function(){window.removeEventListener("message",s)}},[f,h,y,t,a,m,g.browser,p]),null};t.Z=m},21046:function(e,t,a){"use strict";a.d(t,{_l:function(){return i},dO:function(){return l},kJ:function(){return s}});var r=a(14646),n=a(12774);let s=n.qR,i=r.OX,l=r.Le},77447:function(e,t,a){"use strict";a.r(t);var r=a(85893),n=a(67294),s=a(50108),i=a(46313),l=a(26830),o=a(13301),u=a(4498),c=a(33209),d=a(44715),m=a(96851),g=a(88642),p=a(25199),f=a(67749),y=a(11163),h=a.n(y),b=a(94745),v=a(32157),w=a(90611),x=a(18288),E=a(84290),k=a(60081),I=a(44898),D=a(89041),R=a(81792),_=a(98718),j=a(63306),Z=a(68771),L=a(5152),P=a.n(L),S=a(42257),C=a(69395),G=a(17134);let N=P()(()=>Promise.all([a.e(84275),a.e(76532),a.e(21278),a.e(63317)]).then(a.bind(a,89149)),{loadableGenerated:{webpack:()=>[89149]},loading:()=>null,ssr:!0}),F=P()(()=>Promise.all([a.e(84275),a.e(76532),a.e(21278),a.e(43382),a.e(41082)]).then(a.bind(a,43382)),{loadableGenerated:{webpack:()=>[43382]},loading:()=>null,ssr:!0}),T=P()(()=>Promise.all([a.e(84275),a.e(76532),a.e(21278),a.e(9587)]).then(a.bind(a,5054)),{loadableGenerated:{webpack:()=>[5054]},loading:()=>null,ssr:!0}),M=e=>{let{game:t,instant:a,related:l,alternatives:o,hotGames:u,newGames:c}=e,{routeHelper:d}=n.useContext(j.Z),{isDesktop:m}=n.useContext(S.ZP),g=(0,b.mV)(),{czyExpNewGamePageDesktop4_CZY_11750:p}=n.useContext(C.T);n.useEffect(()=>((0,G.a)({gameId:t.id}),()=>(0,G.a)({gameId:null})),[t.id]);let f={name:t.name,category:t.category?.name||""},y=t.pageTitle?t.pageTitle:g._("game.head.title",{name:t.name}),h=t.metaDescription||g._("game.head.metaDescriptionFallback",f),L=d.gameCanonical(t.slug),P=i.Z.Instance.data.advertizing.domain,M=!m&&!t.iosFriendly&&!t.androidFriendly,q=!!t.disableAds||"UNAVAILABLE"===t.status||M||(0,Z.j)(),O=t.tags.map(e=>e.enSlug||e.slug),A=["23325","23131","22816","22743","22426"];return n.useEffect(()=>{let e;if(t.technology!==s.R.IFRAME||!A.includes(t.id)||!t.loaderConfig?.url||!HTMLScriptElement.supports("speculationrules"))return;(e=document.createElement("script")).id="currentSpecRules",e.type="speculationrules";let a={prerender:[{urls:[t.loaderConfig?.url]}]};return e.textContent=JSON.stringify(a),document.body.append(e),()=>{e&&e.remove()}},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.Z,{advertisingGame:{gameName:t.name,gameSlug:t.slug,categoryEnSlug:t.category?.enSlug,tagsSlug:O,numLikes:t.upvotes},disabled:q,smartRefresh:{enabled:!!t.smartRefresh,minWaitInMs:t.minWaitForSmartRefreshInMs,maxWaitInMs:t.maxWaitForSmartRefreshInMs},gamepage_exp4_24:void 0!==p?"enabled"===p:void 0,children:[(0,r.jsxs)(x.Z,{title:y,metaDescription:h,canonical:L,alternatives:o,children:[(0,r.jsx)("meta",{name:"apple-mobile-web-app-title",content:t.name}),(0,r.jsx)("link",{rel:"preconnect",href:P}),(()=>{if(t.customStructuredData)return(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t.customStructuredData}})})()]}),(0,r.jsx)(k.Z,{canonical:L,title:y,description:h,imageUrl:t.cover,type:"game"}),(0,r.jsx)(R.Z,{children:"enabled"===p?(0,r.jsx)(N,{game:t,related:l,hotGames:u,newGames:c}):(0,r.jsx)(F,{game:t,related:l})}),(0,r.jsx)(_.Z,{children:(0,r.jsx)(T,{game:t,instant:a,related:l})})]},t.slug),(0,r.jsx)(E.Z,{game:t},`gametracking-${t.slug}`),(0,r.jsx)(w.J,{game:t}),(0,r.jsx)(I.Z,{gameId:t.id,gameTechnology:t.technology}),(0,r.jsx)(D.Z,{gameId:t.id})]})};M.getInitialProps=async e=>{let t=(e,t,a)=>{if(e.collection){let r=t.tagPageDirectLink(e.collection,{returnRelative:a});return r}if(e.category){let r=t.categoryPageDirectLink(e.category.slug,{returnRelative:a});return r}return t.homePageLink()},{pageService:a,routeDataService:r}=(0,f.b)(e),n=e.query&&e.query[g.l1],s=(e.query&&e.query.buildId)??null,{deviceType:d}=(0,o.mO)(e),p=(0,o.yz)(d),y=!d.isDesktop,b=y?u.gM:u.$d,[{game:v,related:w,hotGames:x,newGames:E,instant:k},I]=await Promise.all([a.gamePage(n,b,p,s),r.getRouteProviderData("game")]),{res:D}=e,R=(0,c.Kd)(e);if("ARCHIVED"===v.status){let a=await r.getLocaleRouteProviderData(R),n=m.Z.createFromContext(e,a);if(D){let e=t(v,n,!1);D.writeHead(302,{Location:e.as}),D.end()}else{let e=t(v,n,!0);h().push(e.href,e.as)}}D&&v.isKids&&(D.writeHead(302,{Location:`${i.Z.Instance.data.kids}/game/${v.slug}`}),D.end());let _=(0,l.$W)(v.slug,I);return{game:v,related:w,hotGames:x,newGames:E,instant:k,alternatives:_}},t.default=(0,d.Z)("game")((0,p.Z)(M))}},function(e){e.O(0,[24582,56774,25199,5491,44889,49774,92888,40179],function(){return e(e.s=10134)}),_N_E=e.O()}]);