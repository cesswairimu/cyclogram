(()=>{var e,t,i,r,s={9662:(e,t,i)=>{var r=i(614),s=i(6330),n=TypeError;e.exports=function(e){if(r(e))return e;throw n(s(e)+" is not a function")}},6077:(e,t,i)=>{var r=i(614),s=String,n=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw n("Can't set "+s(e)+" as a prototype")}},9670:(e,t,i)=>{var r=i(111),s=String,n=TypeError;e.exports=function(e){if(r(e))return e;throw n(s(e)+" is not an object")}},3013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(e,t,i)=>{"use strict";var r,s,n,o=i(3013),a=i(9781),d=i(7854),c=i(614),u=i(111),l=i(2597),h=i(648),p=i(6330),g=i(8880),m=i(8052),f=i(3070).f,b=i(7976),v=i(9518),w=i(7674),y=i(5112),S=i(9711),A=i(9909),B=A.enforce,P=A.get,I=d.Int8Array,k=I&&I.prototype,U=d.Uint8ClampedArray,T=U&&U.prototype,x=I&&v(I),_=k&&v(k),C=Object.prototype,R=d.TypeError,z=y("toStringTag"),j=S("TYPED_ARRAY_TAG"),E="TypedArrayConstructor",q=o&&!!w&&"Opera"!==h(d.opera),F=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},L=function(e){var t=v(e);if(u(t)){var i=P(t);return i&&l(i,E)?i.TypedArrayConstructor:L(t)}},V=function(e){if(!u(e))return!1;var t=h(e);return l(O,t)||l(D,t)};for(r in O)(n=(s=d[r])&&s.prototype)?B(n).TypedArrayConstructor=s:q=!1;for(r in D)(n=(s=d[r])&&s.prototype)&&(B(n).TypedArrayConstructor=s);if((!q||!c(x)||x===Function.prototype)&&(x=function(){throw R("Incorrect invocation")},q))for(r in O)d[r]&&w(d[r],x);if((!q||!_||_===C)&&(_=x.prototype,q))for(r in O)d[r]&&w(d[r].prototype,_);if(q&&v(T)!==_&&w(T,_),a&&!l(_,z))for(r in F=!0,f(_,z,{get:function(){return u(this)?this[j]:void 0}}),O)d[r]&&g(d[r],j,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:q,TYPED_ARRAY_TAG:F&&j,aTypedArray:function(e){if(V(e))return e;throw R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!w||b(x,e)))return e;throw R(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,r){if(a){if(i)for(var s in O){var n=d[s];if(n&&l(n.prototype,e))try{delete n.prototype[e]}catch(i){try{n.prototype[e]=t}catch(e){}}}_[e]&&!i||m(_,e,i?t:q&&k[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,i){var r,s;if(a){if(w){if(i)for(r in O)if((s=d[r])&&l(s,e))try{delete s[e]}catch(e){}if(x[e]&&!i)return;try{return m(x,e,i?t:q&&x[e]||t)}catch(e){}}for(r in O)!(s=d[r])||s[e]&&!i||m(s,e,t)}},getTypedArrayConstructor:L,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||l(O,t)||l(D,t)},isTypedArray:V,TypedArray:x,TypedArrayPrototype:_}},1285:(e,t,i)=>{"use strict";var r=i(7908),s=i(1400),n=i(6244);e.exports=function(e){for(var t=r(this),i=n(t),o=arguments.length,a=s(o>1?arguments[1]:void 0,i),d=o>2?arguments[2]:void 0,c=void 0===d?i:s(d,i);c>a;)t[a++]=e;return t}},1318:(e,t,i)=>{var r=i(5656),s=i(1400),n=i(6244),o=function(e){return function(t,i,o){var a,d=r(t),c=n(d),u=s(o,c);if(e&&i!=i){for(;c>u;)if((a=d[u++])!=a)return!0}else for(;c>u;u++)if((e||u in d)&&d[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},1589:(e,t,i)=>{var r=i(1400),s=i(6244),n=i(6135),o=Array,a=Math.max;e.exports=function(e,t,i){for(var d=s(e),c=r(t,d),u=r(void 0===i?d:i,d),l=o(a(u-c,0)),h=0;c<u;c++,h++)n(l,h,e[c]);return l.length=h,l}},206:(e,t,i)=>{var r=i(1702);e.exports=r([].slice)},4362:(e,t,i)=>{var r=i(1589),s=Math.floor,n=function(e,t){var i=e.length,d=s(i/2);return i<8?o(e,t):a(e,n(r(e,0,d),t),n(r(e,d),t),t)},o=function(e,t){for(var i,r,s=e.length,n=1;n<s;){for(r=n,i=e[n];r&&t(e[r-1],i)>0;)e[r]=e[--r];r!==n++&&(e[r]=i)}return e},a=function(e,t,i,r){for(var s=t.length,n=i.length,o=0,a=0;o<s||a<n;)e[o+a]=o<s&&a<n?r(t[o],i[a])<=0?t[o++]:i[a++]:o<s?t[o++]:i[a++];return e};e.exports=n},4326:(e,t,i)=>{var r=i(1702),s=r({}.toString),n=r("".slice);e.exports=function(e){return n(s(e),8,-1)}},648:(e,t,i)=>{var r=i(1694),s=i(614),n=i(4326),o=i(5112)("toStringTag"),a=Object,d="Arguments"==n(function(){return arguments}());e.exports=r?n:function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=a(e),o))?i:d?n(t):"Object"==(r=n(t))&&s(t.callee)?"Arguments":r}},2128:(e,t,i)=>{var r=i(2597),s=i(3887),n=i(1236),o=i(3070);e.exports=function(e,t,i){for(var a=s(t),d=o.f,c=n.f,u=0;u<a.length;u++){var l=a[u];r(e,l)||i&&r(i,l)||d(e,l,c(t,l))}}},9920:(e,t,i)=>{var r=i(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:(e,t,i)=>{var r=i(9781),s=i(3070),n=i(9114);e.exports=r?function(e,t,i){return s.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,i)=>{"use strict";var r=i(4948),s=i(3070),n=i(9114);e.exports=function(e,t,i){var o=r(t);o in e?s.f(e,o,n(0,i)):e[o]=i}},7045:(e,t,i)=>{var r=i(6339),s=i(3070);e.exports=function(e,t,i){return i.get&&r(i.get,t,{getter:!0}),i.set&&r(i.set,t,{setter:!0}),s.f(e,t,i)}},8052:(e,t,i)=>{var r=i(614),s=i(3070),n=i(6339),o=i(3072);e.exports=function(e,t,i,a){a||(a={});var d=a.enumerable,c=void 0!==a.name?a.name:t;if(r(i)&&n(i,c,a),a.global)d?e[t]=i:o(t,i);else{try{a.unsafe?e[t]&&(d=!0):delete e[t]}catch(e){}d?e[t]=i:s.f(e,t,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},3072:(e,t,i)=>{var r=i(7854),s=Object.defineProperty;e.exports=function(e,t){try{s(r,e,{value:t,configurable:!0,writable:!0})}catch(i){r[e]=t}return t}},9781:(e,t,i)=>{var r=i(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,i=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:i}},317:(e,t,i)=>{var r=i(7854),s=i(111),n=r.document,o=s(n)&&s(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},8886:(e,t,i)=>{var r=i(8113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},256:(e,t,i)=>{var r=i(8113);e.exports=/MSIE|Trident/.test(r)},6833:(e,t,i)=>{var r=i(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:(e,t,i)=>{var r=i(4326),s=i(7854);e.exports="process"==r(s.process)},8113:(e,t,i)=>{var r=i(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,i)=>{var r,s,n=i(7854),o=i(8113),a=n.process,d=n.Deno,c=a&&a.versions||d&&d.version,u=c&&c.v8;u&&(s=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!s&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(s=+r[1]),e.exports=s},8008:(e,t,i)=>{var r=i(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,i)=>{var r=i(7854),s=i(1236).f,n=i(8880),o=i(8052),a=i(3072),d=i(2128),c=i(4705);e.exports=function(e,t){var i,u,l,h,p,g=e.target,m=e.global,f=e.stat;if(i=m?r:f?r[g]||a(g,{}):(r[g]||{}).prototype)for(u in t){if(h=t[u],l=e.dontCallGetSet?(p=s(i,u))&&p.value:i[u],!c(m?u:g+(f?".":"#")+u,e.forced)&&void 0!==l){if(typeof h==typeof l)continue;d(h,l)}(e.sham||l&&l.sham)&&n(h,"sham",!0),o(i,u,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,i)=>{var r=i(4374),s=Function.prototype,n=s.apply,o=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(n):function(){return o.apply(n,arguments)})},9974:(e,t,i)=>{var r=i(1702),s=i(9662),n=i(4374),o=r(r.bind);e.exports=function(e,t){return s(e),void 0===t?e:n?o(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,i)=>{var r=i(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,i)=>{var r=i(4374),s=Function.prototype.call;e.exports=r?s.bind(s):function(){return s.apply(s,arguments)}},6530:(e,t,i)=>{var r=i(9781),s=i(2597),n=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=s(n,"name"),d=a&&"something"===function(){}.name,c=a&&(!r||r&&o(n,"name").configurable);e.exports={EXISTS:a,PROPER:d,CONFIGURABLE:c}},1702:(e,t,i)=>{var r=i(4374),s=Function.prototype,n=s.bind,o=s.call,a=r&&n.bind(o,o);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:(e,t,i)=>{var r=i(7854),s=i(614),n=function(e){return s(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(r[e]):r[e]&&r[e][t]}},8173:(e,t,i)=>{var r=i(9662),s=i(8554);e.exports=function(e,t){var i=e[t];return s(i)?void 0:r(i)}},7854:(e,t,i)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},2597:(e,t,i)=>{var r=i(1702),s=i(7908),n=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(s(e),t)}},3501:e=>{e.exports={}},490:(e,t,i)=>{var r=i(5005);e.exports=r("document","documentElement")},4664:(e,t,i)=>{var r=i(9781),s=i(7293),n=i(317);e.exports=!r&&!s((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,i)=>{var r=i(1702),s=i(7293),n=i(4326),o=Object,a=r("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?a(e,""):o(e)}:o},2788:(e,t,i)=>{var r=i(1702),s=i(614),n=i(5465),o=r(Function.toString);s(n.inspectSource)||(n.inspectSource=function(e){return o(e)}),e.exports=n.inspectSource},9909:(e,t,i)=>{var r,s,n,o=i(4811),a=i(7854),d=i(1702),c=i(111),u=i(8880),l=i(2597),h=i(5465),p=i(6200),g=i(3501),m="Object already initialized",f=a.TypeError,b=a.WeakMap;if(o||h.state){var v=h.state||(h.state=new b),w=d(v.get),y=d(v.has),S=d(v.set);r=function(e,t){if(y(v,e))throw f(m);return t.facade=e,S(v,e,t),t},s=function(e){return w(v,e)||{}},n=function(e){return y(v,e)}}else{var A=p("state");g[A]=!0,r=function(e,t){if(l(e,A))throw f(m);return t.facade=e,u(e,A,t),t},s=function(e){return l(e,A)?e[A]:{}},n=function(e){return l(e,A)}}e.exports={set:r,get:s,has:n,enforce:function(e){return n(e)?s(e):r(e,{})},getterFor:function(e){return function(t){var i;if(!c(t)||(i=s(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return i}}}},614:(e,t,i)=>{var r=i(4154),s=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===s}:function(e){return"function"==typeof e}},4705:(e,t,i)=>{var r=i(7293),s=i(614),n=/#|\.prototype\./,o=function(e,t){var i=d[a(e)];return i==u||i!=c&&(s(t)?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(n,".").toLowerCase()},d=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,i)=>{var r=i(614),s=i(4154),n=s.all;e.exports=s.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===n}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},2190:(e,t,i)=>{var r=i(5005),s=i(614),n=i(7976),o=i(3307),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return s(t)&&n(t.prototype,a(e))}},6244:(e,t,i)=>{var r=i(7466);e.exports=function(e){return r(e.length)}},6339:(e,t,i)=>{var r=i(7293),s=i(614),n=i(2597),o=i(9781),a=i(6530).CONFIGURABLE,d=i(2788),c=i(9909),u=c.enforce,l=c.get,h=Object.defineProperty,p=o&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),g=String(String).split("String"),m=e.exports=function(e,t,i){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!n(e,"name")||a&&e.name!==t)&&(o?h(e,"name",{value:t,configurable:!0}):e.name=t),p&&i&&n(i,"arity")&&e.length!==i.arity&&h(e,"length",{value:i.arity});try{i&&n(i,"constructor")&&i.constructor?o&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=u(e);return n(r,"source")||(r.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return s(this)&&l(this).source||d(this)}),"toString")},4758:e=>{var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?i:t)(r)}},3070:(e,t,i)=>{var r=i(9781),s=i(4664),n=i(3353),o=i(9670),a=i(4948),d=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l="enumerable",h="configurable",p="writable";t.f=r?n?function(e,t,i){if(o(e),t=a(t),o(i),"function"==typeof e&&"prototype"===t&&"value"in i&&p in i&&!i.writable){var r=u(e,t);r&&r.writable&&(e[t]=i.value,i={configurable:h in i?i.configurable:r.configurable,enumerable:l in i?i.enumerable:r.enumerable,writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(o(e),t=a(t),o(i),s)try{return c(e,t,i)}catch(e){}if("get"in i||"set"in i)throw d("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},1236:(e,t,i)=>{var r=i(9781),s=i(6916),n=i(5296),o=i(9114),a=i(5656),d=i(4948),c=i(2597),u=i(4664),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=d(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return o(!s(n.f,e,t),e[t])}},8006:(e,t,i)=>{var r=i(6324),s=i(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,i)=>{var r=i(2597),s=i(614),n=i(7908),o=i(6200),a=i(9920),d=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=n(e);if(r(t,d))return t[d];var i=t.constructor;return s(i)&&t instanceof i?i.prototype:t instanceof c?u:null}},7976:(e,t,i)=>{var r=i(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,i)=>{var r=i(1702),s=i(2597),n=i(5656),o=i(1318).indexOf,a=i(3501),d=r([].push);e.exports=function(e,t){var i,r=n(e),c=0,u=[];for(i in r)!s(a,i)&&s(r,i)&&d(u,i);for(;t.length>c;)s(r,i=t[c++])&&(~o(u,i)||d(u,i));return u}},5296:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},7674:(e,t,i)=>{var r=i(1702),s=i(9670),n=i(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,r){return s(i),n(r),t?e(i,r):i.__proto__=r,i}}():void 0)},2140:(e,t,i)=>{var r=i(6916),s=i(614),n=i(111),o=TypeError;e.exports=function(e,t){var i,a;if("string"===t&&s(i=e.toString)&&!n(a=r(i,e)))return a;if(s(i=e.valueOf)&&!n(a=r(i,e)))return a;if("string"!==t&&s(i=e.toString)&&!n(a=r(i,e)))return a;throw o("Can't convert object to primitive value")}},3887:(e,t,i)=>{var r=i(5005),s=i(1702),n=i(8006),o=i(5181),a=i(9670),d=s([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=n.f(a(e)),i=o.f;return i?d(t,i(e)):t}},7066:(e,t,i)=>{"use strict";var r=i(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:(e,t,i)=>{var r=i(8554),s=TypeError;e.exports=function(e){if(r(e))throw s("Can't call method on "+e);return e}},6200:(e,t,i)=>{var r=i(2309),s=i(9711),n=r("keys");e.exports=function(e){return n[e]||(n[e]=s(e))}},5465:(e,t,i)=>{var r=i(7854),s=i(3072),n="__core-js_shared__",o=r[n]||s(n,{});e.exports=o},2309:(e,t,i)=>{var r=i(1913),s=i(5465);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.3",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,i)=>{var r=i(7392),s=i(7293);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},261:(e,t,i)=>{var r,s,n,o,a=i(7854),d=i(2104),c=i(9974),u=i(614),l=i(2597),h=i(7293),p=i(490),g=i(206),m=i(317),f=i(8053),b=i(6833),v=i(5268),w=a.setImmediate,y=a.clearImmediate,S=a.process,A=a.Dispatch,B=a.Function,P=a.MessageChannel,I=a.String,k=0,U={},T="onreadystatechange";try{r=a.location}catch(e){}var x=function(e){if(l(U,e)){var t=U[e];delete U[e],t()}},_=function(e){return function(){x(e)}},C=function(e){x(e.data)},R=function(e){a.postMessage(I(e),r.protocol+"//"+r.host)};w&&y||(w=function(e){f(arguments.length,1);var t=u(e)?e:B(e),i=g(arguments,1);return U[++k]=function(){d(t,void 0,i)},s(k),k},y=function(e){delete U[e]},v?s=function(e){S.nextTick(_(e))}:A&&A.now?s=function(e){A.now(_(e))}:P&&!b?(o=(n=new P).port2,n.port1.onmessage=C,s=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!h(R)?(s=R,a.addEventListener("message",C,!1)):s=T in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),x(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:w,clear:y}},1400:(e,t,i)=>{var r=i(9303),s=Math.max,n=Math.min;e.exports=function(e,t){var i=r(e);return i<0?s(i+t,0):n(i,t)}},4599:(e,t,i)=>{var r=i(7593),s=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw s("Can't convert number to bigint");return BigInt(t)}},5656:(e,t,i)=>{var r=i(8361),s=i(4488);e.exports=function(e){return r(s(e))}},9303:(e,t,i)=>{var r=i(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},7466:(e,t,i)=>{var r=i(9303),s=Math.min;e.exports=function(e){return e>0?s(r(e),9007199254740991):0}},7908:(e,t,i)=>{var r=i(4488),s=Object;e.exports=function(e){return s(r(e))}},4590:(e,t,i)=>{var r=i(3002),s=RangeError;e.exports=function(e,t){var i=r(e);if(i%t)throw s("Wrong offset");return i}},3002:(e,t,i)=>{var r=i(9303),s=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw s("The argument can't be less than 0");return t}},7593:(e,t,i)=>{var r=i(6916),s=i(111),n=i(2190),o=i(8173),a=i(2140),d=i(5112),c=TypeError,u=d("toPrimitive");e.exports=function(e,t){if(!s(e)||n(e))return e;var i,d=o(e,u);if(d){if(void 0===t&&(t="default"),i=r(d,e,t),!s(i)||n(i))return i;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:(e,t,i)=>{var r=i(7593),s=i(2190);e.exports=function(e){var t=r(e,"string");return s(t)?t:t+""}},1694:(e,t,i)=>{var r={};r[i(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,i)=>{var r=i(1702),s=0,n=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++s+n,36)}},3307:(e,t,i)=>{var r=i(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,i)=>{var r=i(9781),s=i(7293);e.exports=r&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:e=>{var t=TypeError;e.exports=function(e,i){if(e<i)throw t("Not enough arguments");return e}},4811:(e,t,i)=>{var r=i(7854),s=i(614),n=r.WeakMap;e.exports=s(n)&&/native code/.test(String(n))},5112:(e,t,i)=>{var r=i(7854),s=i(2309),n=i(2597),o=i(9711),a=i(6293),d=i(3307),c=s("wks"),u=r.Symbol,l=u&&u.for,h=d?u:u&&u.withoutSetter||o;e.exports=function(e){if(!n(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&n(u,e)?c[e]=u[e]:c[e]=d&&l?l(t):h(t)}return c[e]}},2087:(e,t,i)=>{var r=i(7854),s=i(9781),n=i(7045),o=i(7066),a=i(7293),d=r.RegExp,c=d.prototype;s&&a((function(){var e=!0;try{d(".","d")}catch(t){e=!1}var t={},i="",r=e?"dgimsy":"gimsy",s=function(e,r){Object.defineProperty(t,e,{get:function(){return i+=r,!0}})},n={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(n.hasIndices="d"),n)s(o,n[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||i!==r}))&&n(c,"flags",{configurable:!0,get:o})},3105:(e,t,i)=>{"use strict";var r=i(260),s=i(1285),n=i(4599),o=i(648),a=i(6916),d=i(1702),c=i(7293),u=r.aTypedArray,l=r.exportTypedArrayMethod,h=d("".slice);l("fill",(function(e){var t=arguments.length;u(this);var i="Big"===h(o(this),0,3)?n(e):+e;return a(s,this,i,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},3462:(e,t,i)=>{"use strict";var r=i(7854),s=i(6916),n=i(260),o=i(6244),a=i(4590),d=i(7908),c=i(7293),u=r.RangeError,l=r.Int8Array,h=l&&l.prototype,p=h&&h.set,g=n.aTypedArray,m=n.exportTypedArrayMethod,f=!c((function(){var e=new Uint8ClampedArray(2);return s(p,e,{length:1,0:3},1),3!==e[1]})),b=f&&n.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){g(this);var t=a(arguments.length>1?arguments[1]:void 0,1),i=d(e);if(f)return s(p,this,i,t);var r=this.length,n=o(i),c=0;if(n+t>r)throw u("Wrong length");for(;c<n;)this[t+c]=i[c++]}),!f||b)},3824:(e,t,i)=>{"use strict";var r=i(7854),s=i(1702),n=i(7293),o=i(9662),a=i(4362),d=i(260),c=i(8886),u=i(256),l=i(7392),h=i(8008),p=d.aTypedArray,g=d.exportTypedArrayMethod,m=r.Uint16Array,f=m&&s(m.prototype.sort),b=!(!f||n((function(){f(new m(2),null)}))&&n((function(){f(new m(2),{})}))),v=!!f&&!n((function(){if(l)return l<74;if(c)return c<67;if(u)return!0;if(h)return h<602;var e,t,i=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,r[e]=e-2*t+3;for(f(i,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(i[e]!==r[e])return!0}));g("sort",(function(e){return void 0!==e&&o(e),v?f(this,e):a(p(this),function(e){return function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i}}(e))}),!v||b)},1091:(e,t,i)=>{var r=i(2109),s=i(7854),n=i(261).clear;r({global:!0,bind:!0,enumerable:!0,forced:s.clearImmediate!==n},{clearImmediate:n})},4633:(e,t,i)=>{i(1091),i(2986)},2986:(e,t,i)=>{var r=i(2109),s=i(7854),n=i(261).set;r({global:!0,bind:!0,enumerable:!0,forced:s.setImmediate!==n},{setImmediate:n})},4155:e=>{var t,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{i="function"==typeof clearTimeout?clearTimeout:n}catch(e){i=n}}();var a,d=[],c=!1,u=-1;function l(){c&&a&&(c=!1,a.length?d=a.concat(d):u=-1,d.length&&h())}function h(){if(!c){var e=o(l);c=!0;for(var t=d.length;t;){for(a=d,d=[];++u<t;)a&&a[u].run();u=-1,t=d.length}a=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===n||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new p(e,t)),1!==d.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return s[e](i,i.exports,o),i.exports}o.m=s,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var s=Object.create(null);o.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>n[e]=()=>i[e]));return n.default=()=>i,o.d(s,n),s},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,i)=>(o.f[i](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},r="crazygames-ads:",o.l=(e,t,s,n)=>{if(i[e])i[e].push(t);else{var a,d;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==r+s){a=l;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",r+s),a.src=e),i[e]=[t];var h=(t,r)=>{a.onerror=a.onload=null,clearTimeout(p);var s=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),d&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,i)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((i,s)=>r=e[t]=[i,s]));i.push(r[2]=s);var n=o.p+o.u(t),a=new Error;o.l(n,(i=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",a.name="ChunkLoadError",a.type=s,a.request=n,r[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,s,[n,a,d]=i,c=0;if(n.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(d)d(o)}for(t&&t(i);c<n.length;c++)s=n[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=globalThis.webpackChunkcrazygames_ads=globalThis.webpackChunkcrazygames_ads||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";o(2087),o(3105),o(3462),o(3824),o(4633);const e=new class{constructor(){var e,t,i;i=void 0,(t="debugEnabled")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.debugEnabled=this.isDebugEnabled()}debug(e){if(this.debugEnabled){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.log(e,...i)}}log(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.log(e,...i)}warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.warn(e,...i)}error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}isDebugEnabled(){return!(window.location.search.indexOf("raf_debug=true")<0)}},t=e;function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r=class{constructor(){i(this,"initialized",!1),i(this,"disabledBidder",null),i(this,"gamKeys",void 0),i(this,"actualCandidates",[]),this.gamKeys={appnexus:"appnexus_disabled",ix:"ix_disabled",pubmatic:"pubmatic_disabled",rubicon:"rubicon_disabled",sharethrough:"st_disabled",rise:"rise_disabled",amazon:"amazon_disabled",iionads:"iion_disabled",venatus:"venatus_disabled",stroeerCore:"stroeer_disabled",mediafuse:"mediafuse_disabled",webads:"webads_disabled",goldbach:"goldbach_disabled",smilewanted:"smilewanted_disabled",beintoo:"beintoo_disabled",seedtag:"seedtag_disabled",adbility:"adbility_disabled",s2s_rubicon:"s2s_rubicon_disabled"}}init(){if(this.initialized)return;this.initialized=!0;const e=this.getCandidates(),i=.005*e.length;if(Math.random()<i){const t=e[Math.floor(Math.random()*e.length)];this.disabledBidder=t}t.debug(`Incremental bidder test initialized with disabled bidder: ${this.disabledBidder}`)}isBidderDisabled(e){return this.disabledBidder===e}addToActualCandidates(e){this.getCandidates().includes(e)&&this.actualCandidates.push(e)}getGamKeys(){return this.initialized?this.actualCandidates.reduce(((e,t)=>({...e,[this.gamKeys[t]]:`${this.isBidderDisabled(t)}`})),{}):{}}getCandidates(){return Object.keys(this.gamKeys)}};function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const n=["RU","VE","BY"];class a{constructor(){s(this,"sessionBidderConfig",{}),s(this,"incrementalBidderTest",void 0),this.incrementalBidderTest=new r,this.incrementalBidderTest.init()}getBidderConfig(e){return this.sessionBidderConfig[e]}setBidderConfig(e,t){this.sessionBidderConfig[e]={...t}}addToIncrementalBidderTest(e){this.incrementalBidderTest.addToActualCandidates(e)}disabledInIncrementalBiderTest(e){const i=this.incrementalBidderTest.isBidderDisabled(e);return i&&t.debug(`Incremental bidder test disabling ${e}.`),i}getIncrementalBidderGamKeys(){return this.incrementalBidderTest.getGamKeys()}}const d=new class{constructor(){s(this,"config",null),s(this,"sessionBidderConfig",{})}setBidderConfig(e){this.config=e}getBidderConfig(e){if(!this.config)throw new Error("Bidder config not loaded");const i=this.config[e];return i||(t.error(`Bidder config for ${e} not found. Disabling for this session.`),{rules:[{enabled:0}]})}isBidderEnabledForSession(e,i,r){const s=this.getSessionConfig(r),n=s.getBidderConfig(e);if(n)return n.enabled;if(window.location.search.includes(`${e}_enabled`))return t.debug(`Force enabling bidder ${e} for this session through query param.`),s.setBidderConfig(e,{probability:1,enabled:!0}),!0;this.logWarningIfMissingSessionInfo(i,e);const o=this.getBidderConfig(e).rules,a=this.getProbabilityAccordingToRules(o,i,r,e);let d;return 1===a?(s.addToIncrementalBidderTest(e),d=!s.disabledInIncrementalBiderTest(e)):d=Math.random()<a,t.debug(`Bidder ${e} is ${d?"enabled":"disabled"} with probability ${a} for ${r}s.`),s.setBidderConfig(e,{probability:a,enabled:d}),d}getProbabilityAccordingToRules(e,i,r,s){if(null!=i&&i.country){const{country:e}=i;if(n.includes(e))return 0}const o=(null==i?void 0:i.country)??"US",a=(null==i?void 0:i.device)??"desktop",d=null==i?void 0:i.domain,c=null==i?void 0:i.browser;for(const t of e){if(!t.conditions)return t.enabled;if(!i)continue;const{country:e,domain:s,browser:n,device:u,adFormat:l}=t.conditions;if((!e||e.includes(o))&&((!s||!d||s.includes(d))&&(!n||!c||n.includes(c))&&(!u||u.includes(a))&&(!l||l.includes(r))))return t.enabled}return t.error(`No rule applies for bidder ${s} with config ${JSON.stringify(i)} and ad format ${r}. Disabling for safety.`),0}getIncrementalBidderGamKeys(e){return this.getSessionConfig(e).getIncrementalBidderGamKeys()}getSessionConfig(e){return this.sessionBidderConfig[e]||(this.sessionBidderConfig[e]=new a),this.sessionBidderConfig[e]}logWarningIfMissingSessionInfo(e,i){if(!e)return void t.warn(`Session info is missing. Using the default rule for ${i}.`);const r=[];e.country||r.push("country"),e.device||r.push("device"),e.domain||r.push("domain"),e.browser||r.push("browser"),r.length>0&&t.warn(`Missing session info: ${r.join(", ")}.`)}resetSessionBidderConfig(){t.warn("Resetting session bidder config. This should only be used for testing purposes.");for(const e of Object.getOwnPropertyNames(this.sessionBidderConfig))delete this.sessionBidderConfig[e]}},c=d,u=JSON.parse('{"api":"https://api.crazygames.com"}');const l=.916089835433622;let h;function p(){return h||l}const g=JSON.parse('{"rubicon":{"cost":0,"discrepancy":0.08,"rules":[{"enabled":0,"conditions":{"country":["TH","RO","CR","SK","VE","KW","KE","QA","UA","BO","EE","PA","SN","EG","PR","HR","MA","LT","OM","GE","NG","HN","BG","JM","JO","LV","BD","TT","BH","BW","SV","NI","CI","MK","GU","LU","BS","PY","AL","CY","IR","LB","BA","LK","AM","KH","GH","CN","PS","DZ","KZ","GY","TZ","UZ","MD","KY","RW","ZM","BM","MM","NP","AS","NA","MU","ZW","CG","IQ","MO","UG","MP","ET","BY","BB","LC","MV","SR","TM","KG","AO","IM","BN","BT","AX","BZ","SY","DM","GP","GW","GM","AI","AW","MZ","SD","CW","ME","MG","BQ","RE","VC","VI","MC","PG","LA","AG","MN","MQ","KN","GG","GD","NE","CD","SC","SX","GF","NC","AD","MW","LY","FJ","VG","NU","CU","SM","SL","PF","HT","JE","AF","FO","GA","LI","SZ","SS","GL","GN","GI","CM","MR","LS","TG","YT","SO","DJ","TC","CV","LR","VA","BF","TJ","BI","TL","FM","BJ","ML","MS","YE","CF","SB","MF","CK","TD","BL","PM","KM","TO","VU","WS","FK","WF","ST","GQ","NF","PW","KI","MH","CO","AZ","AR","DO","PE","GT","TR","EC"]}},{"enabled":1}]},"s2s_rubicon":{"rules":[{"enabled":0,"conditions":{"adFormat":["video"]}},{"enabled":1}]},"appnexus":{"discrepancy":0.03,"rules":[{"enabled":0,"conditions":{"country":["UA","BY","VE","LB","BA","MK","IQ","ZW","ME","TM","PF","TJ","LY","SO","GP","AX","YE","AD","CD","MC","GA","DZ","IN","ID","PK"]}},{"enabled":1}]},"ix":{"discrepancy":0.07,"rules":[{"enabled":0,"conditions":{"country":["CN","AE","CH","EG"]}},{"enabled":0,"conditions":{"adFormat":["video"],"device":["mobile","tablet"]}},{"enabled":1}]},"pubmatic":{"cost":0,"discrepancy":0.045,"rules":[{"enabled":0,"conditions":{"country":["AF","AX","AL","DZ","AD","AM","AZ","BD","BY","BO","BA","BG","CN","CR","CD","DO","EC","EG","SV","PF","GA","GR","GP","GT","HN","IQ","KZ","LV","LB","LY","MK","MD","MC","ME","MA","NP","PK","PA","PY","PE","PT","RS","SO","LK","TJ","TT","TR","TM","UA","UY","VE","VN","YE","ZW","IN","HK"]}},{"enabled":1}]},"amazon":{"discrepancy":0.02,"rules":[{"enabled":1}]},"sharethrough":{"discrepancy":0.055,"rules":[{"enabled":0,"conditions":{"country":["CO"]}},{"enabled":1}]},"venatus":{"cost":0.3,"discrepancy":0.015,"rules":[{"enabled":1,"conditions":{"country":["US","GB","CA","FR","IT","ES","DE","TW","PE","BE","GR","MX","IE"]}},{"enabled":0}]},"rise":{"discrepancy":0.1,"rules":[{"enabled":1,"conditions":{"country":["US","CA","GB","DE","AU","NL","BE","ES","IT","FR","SE","FI","NO","DK","CH","IE","AT"]}},{"enabled":0}]},"stroeerCore":{"discrepancy":0.03,"rules":[{"enabled":1,"conditions":{"country":["DE","AT","CH"]}},{"enabled":0}]},"mediafuse":{"cost":0.2,"discrepancy":0.08,"rules":[{"enabled":1,"conditions":{"country":["US","CA","GB","AU"]}},{"enabled":0}]},"iionads":{"discrepancy":0.095,"rules":[{"enabled":1,"conditions":{"country":["NZ","AU","IN","ID","PH","JP","MY","TH","SG","NL","BH","QA","OM","KW","SA","AE"]}},{"enabled":0}]},"webads":{"discrepancy":0.04,"rules":[{"enabled":1,"conditions":{"country":["NL"]}},{"enabled":0.1,"conditions":{"country":["IT","ES"]}},{"enabled":0}]},"goldbach":{"cost":0.3,"discrepancy":0.41,"rules":[{"enabled":1,"conditions":{"country":["CH"]}},{"enabled":0}]},"smilewanted":{"discrepancy":0.2,"rules":[{"enabled":1,"conditions":{"country":["FR","CA","US","GB"]}},{"enabled":0}]},"beintoo":{"rules":[{"enabled":0.1,"conditions":{"country":["DE","ES"]}},{"enabled":0}]},"seedtag":{"rules":[{"enabled":0.1}]},"adbility":{"rules":[{"enabled":0.1,"conditions":{"country":["DE"],"adFormat":["video"]}},{"enabled":0}]},"google":{"rules":[{"enabled":1}]},"adsense":{"rules":[{"enabled":0}]}}');function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(){return`${u.api}/v3/en_US/config`}const b=new class{constructor(){m(this,"loaded",!1),m(this,"success",null),m(this,"resolvers",[])}waitTillLoaded(){return this.loaded?this.success?Promise.resolve():Promise.reject(new Error("Config failed to load")):new Promise(((e,t)=>{this.resolvers.push({resolve:e,reject:t})}))}async fetchConfig(){const e=f();try{const i=await fetch(e);if(!i.ok)throw t.error("[configLoader] fetchConfig - response not ok",i),new Error(`Network response was not ok: ${i.statusText}`);const r=await i.json();this.setConfig(r)}catch(e){t.error("[configLoader] fetchConfig - error fetching config. Using fallback config",e),this.setConfig({config:g,dollarRate:l})}}setConfig(e){var i;i=e.dollarRate,h=i,c.setBidderConfig(e.config),this.loaded=!0,this.success=!0,this.resolvers.forEach((e=>{let{resolve:t}=e;return t()})),this.resolvers=[],t.debug(`[configLoader] Set bidder config and dollar rate (${e.dollarRate}). Resolving ${this.resolvers.length} waiting promises`)}},v={advertising:{priceFloor:()=>.02,bidders:[{bidder:"rubicon",accountId:"16980",siteId:"152672"},{bidder:"s2s_rubicon",accountId:"16980",siteId:"541958"},{bidder:"appnexus"},{bidder:"ix"},{bidder:"pubmatic",publisherId:"156561"},{bidder:"amazon",pubID:"9e9bffbc-66c5-4b5b-89aa-4d839e05ce3a",adServer:"googletag"},{bidder:"adsense",client:"ca-pub-8415986145297288"},{bidder:"sharethrough"},{bidder:"venatus",AV_PUBLISHERID:"5f2063121d82c82557194737"},{bidder:"rise",org:"62a8b3133e1cca000167166d"},{bidder:"mediafuse",placementId:32058692},{bidder:"iionads"},{bidder:"webads"},{bidder:"smilewanted",zoneId:"crazygames.com_hb_display"},{bidder:"seedtag",publisherId:"1497-2859-01"},{bidder:"adbility",tagId:"3wzinkts"}],server:{endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",accountId:"a37f9415-13c7-4a3a-abae-9c18699ec8ff"}},houseAds:{advertiserIds:[134924547]}},w=v.houseAds;class y{constructor(){var e,t,i;i="not-initialized",(t="loadState")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}getLoadState(){return this.loadState}}async function S(e){return new Promise(((t,i)=>{const r=document.createElement("script");r.src=e,r.async=!0,r.onerror=()=>i(new Error(`Failed to load ${e}`)),r.onload=()=>t(),document.head.appendChild(r)}))}function A(){return window.adsbygoogle?Promise.resolve():S("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")}let B=null;function P(){return B||(B=S("https://ats-wrapper.privacymanager.io/ats-modules/f335ec38-f1f6-423b-8091-fe87576411ae/ats.js"),B)}o(4155);function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const k=new class extends y{constructor(){super(...arguments),I(this,"prebidPromise",null),I(this,"version","v8")}isPrebidLoaded(){const e=window;return e.pbjs&&e.pbjs.libLoaded}baseDomain(){return"https://pafvertizing.crazygames.com"}getPrebidLocation(){const e=this.version;return`${this.baseDomain()}/prebid-${e}.js`}loadPrebid(){if(this.prebidPromise)return this.prebidPromise;const e=this.getPrebidLocation();return this.prebidPromise=S(e),this.loadState="loading",this.prebidPromise.then((()=>{this.loadState="success"})).catch((e=>{t.error("[LoadScript] failed to load prebid",e),this.loadState="fail"})),this.prebidPromise}loadIfNeeded(){return this.isPrebidLoaded()?Promise.resolve():this.loadPrebid()}};let U,T;function x(){if(!U){const e=window;e.pbjs=e.pbjs||{},e.pbjs.que=e.pbjs.que||[],U=e.pbjs}return window.pbjs}const _=new class extends y{constructor(){var e,t,i;super(...arguments),i=null,(t="apstagPromise")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}loadIfNeeded(){return this.apstagPromise||(this.apstagPromise=T||(T=new Promise(((e,t)=>{((i,r,s,n,o,a,d)=>{function c(e,t){r[i]._Q.push([e,t])}r[i]||(r[i]={init:function(){c("i",arguments)},fetchBids:function(){c("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){c("di",arguments)},rpa:function(){c("ri",arguments)},upa:function(){c("ui",arguments)},_Q:[]},(a=s.createElement(n)).async=!0,a.src=o,a.onerror=()=>t(new Error("Failed to load apstag")),a.onload=()=>e(),(d=s.getElementsByTagName(n)[0]).parentNode.insertBefore(a,d))})("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js")})),T),this.loadState="loading",this.apstagPromise.then((()=>{this.loadState="success"})).catch((e=>{t.error("[LoadScript] failed to load apstag",e),this.loadState="fail"}))),this.apstagPromise}};const C=function(e,t){return new Promise(((i,r)=>{window.setTimeout((()=>{i(t)}),e)}))};o(4155);async function R(){try{await S("https://rafvertizing.crazygames.com/prebid.js")}catch(e){return t.debug('[Adblock] Adblock detected (our "prebid" failed to load)',e),!0}try{const e=!document.getElementById("AZJUSpftxLwH");return e&&t.debug("[Adblock] Adblock detected (no div)"),e}catch(e){return t.debug("[Adblock] Adblock detected"),!0}}function z(){return Promise.race([R(),C(250,!1)])}let j;const E=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j&&!e||(j=z());const t=await j;return t};let q=null;function F(){return q||(q=S("https://btloader.com/tag?o=5635927334453248&upapi=true"),q)}async function O(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(q)return q;if(e)return F();const t=await E();return t?F():Promise.resolve()}const D=function(e){return e instanceof Function};const L=new class extends y{constructor(){var e,t,i;super(...arguments),i=null,(t="googletagPromise")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}loadGoogleTag(){if(this.googletagPromise)return this.googletagPromise;return this.googletagPromise=S("https://securepubads.g.doubleclick.net/tag/js/gpt.js"),this.loadState="loading",this.googletagPromise.then((()=>{this.loadState="success"})).catch((e=>{t.error("[LoadScript] GoogleTag Failed to load",e),this.loadState="fail"})),this.googletagPromise}isGoogleTagDefined(){const e=window;return e.googletag&&D(e.googletag.pubads)&&D(e.googletag.pubads().getSlots)}loadIfNeeded(){return this.isGoogleTagDefined()?Promise.resolve():this.loadGoogleTag()}};function V(e,t){for(const i of t)if(i.bidder===e)return i;return null}function M(e){return"s2s_rubicon"===e?"rubicon":e}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ${constructor(e){let{apiName:t,apiVersion:i,apiArgs:r=["command","callback","version"],callbackArgs:s=["returnValue","success"]}=e;N(this,"win",window),N(this,"apiName",void 0),N(this,"apiVersion",void 0),N(this,"apiArgs",void 0),N(this,"callbackArgs",void 0),N(this,"callName",void 0),N(this,"returnName",void 0),N(this,"cmpCallbacks",{}),N(this,"eventCallbacks",{}),this.apiName=t,this.apiVersion=i,this.apiArgs=r,this.callbackArgs=s,this.callName=`${t}Call`,this.returnName=`${t}Return`}installLocator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(window[this.apiName])return Promise.resolve();return t>=e?Promise.resolve():((()=>{const{cmpFrame:e}=this.findLocatorFrame();e&&this.setupCMPWhileInIframe(e)})(),window[this.apiName]?Promise.resolve():new Promise((i=>{window.setTimeout((async()=>{await this.installLocator(e,t+1),i()}),50)})))}findLocatorFrame(){let e,t=window;for(;!e;){try{if(t.frames[`${this.apiName}Locator`]){e=t;break}}catch(e){}if(t===window.top)break;t=t.parent}return{cmpFrame:e}}setupCMPWhileInIframe(e){var t=this;window[this.apiName]=function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];const n=Math.random()+"",o=t.apiArgs.reduce(((e,t,i)=>(e[t]=r[i],e)),{version:t.apiVersion,callId:n}),a=o.callback,d=Object.fromEntries(Object.entries(o).filter((e=>{let[t,i]=e;return"callback"!==t}))),c={[t.callName]:d};if(void 0!==a){const e=o.command;if("addEventListener"===e)t.cmpCallbacks[n]=(e,i)=>{a(e,i),t.cmpCallbacks[n]=a;const r=e.listenerId;t.eventCallbacks[r]=(t.eventCallbacks[r]||[]).concat(n)};else if("removeEventListener"===e){const e=o.parameter;if(e){(t.eventCallbacks[e]||[]).forEach((e=>{delete t.cmpCallbacks[e]})),delete t.eventCallbacks[n],t.cmpCallbacks[n]=a}}else t.cmpCallbacks[n]=a}e.postMessage(c,"*")},this.win.addEventListener("message",(e=>this.readPostMessageResponse(e)),!1)}readPostMessageResponse(e){var t;const i="string"==typeof e.data&&e.data.includes(this.returnName)?JSON.parse(e.data):e.data;if(null!=i&&null!==(t=i[this.returnName])&&void 0!==t&&t.callId){const e=i[this.returnName];try{if(this.cmpCallbacks.hasOwnProperty(e.callId)&&void 0!==this.cmpCallbacks[e.callId]){const t=this.cmpCallbacks[e.callId];delete this.cmpCallbacks[e.callId],t(...this.callbackArgs.map((t=>e[t])))}}catch{}}}}const W=function(){const e=new $({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]}),t=new $({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});return Promise.all([e.installLocator(5),t.installLocator(5)])},G=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],H=[...G,"BR","CH","GB","NO"];function K(e){return!e||H.indexOf(e)>=0}function Y(e){return!e||"US"===e}function J(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Z{constructor(){J(this,"data",void 0),this.data={},this.clear()}setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:void 0}removeItem(e){delete this.data[e]}clear(){this.data={}}}class Q{constructor(){J(this,"storage",void 0),this.storage=this.getAvailableStorage()}static get Instance(){return this._instance?this._instance:this._instance=new this}getItem(e){return this.storage.getItem(e)}setItem(e,t){this.storage.setItem(e,t)}removeItem(e){this.storage.removeItem(e)}clear(){return this.storage.clear()}isFunctioningStorage(e){try{const t=`__AdsSafeLocalStorage__${Date.now()}`,i="test";return e.setItem(t,i),e.getItem(t)!==i?!1:(window.localStorage.removeItem(t),!0)}catch(e){return!1}}getAvailableStorage(){try{return this.hasWorkingLocalStorage()?(t.debug("[SafeLocalStorage] using localStorage"),window.localStorage):this.hasWorkingSessionStorage()?(t.debug("[SafeLocalStorage] fallback to sessionStorage"),window.sessionStorage):(t.warn("[SafeLocalStorage] fallback to InMemoryStorage"),new Z)}catch(e){return t.warn("[SafeLocalStorage] fallback to InMemoryStorage"),new Z}}hasWorkingLocalStorage(){try{if(!window.hasOwnProperty("localStorage"))return!1;const{localStorage:e}=window;return this.isFunctioningStorage(e)}catch(e){return!1}}hasWorkingSessionStorage(){try{if(!window.hasOwnProperty("sessionStorage"))return!1;const{sessionStorage:e}=window;return this.isFunctioningStorage(e)}catch(e){return!1}}}function X(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}J(Q,"_instance",void 0);const ee=[],te="li-module-enabled",ie="amazon_pf_exp_4_24",re="content_exp_24",se="prebid_server_exp_24";class ne{static getInstance(){return ne.instance||(ne.instance=new ne),ne.instance}constructor(){X(this,"experiments",{}),ee.push({defaultValue:"false",key:te,options:[{chance:.95,value:"true"}]}),ee.push({defaultValue:"false",key:ie,options:[{chance:0,value:"true"}]}),ee.push({defaultValue:"false",key:re,options:[{chance:.1,value:"true"}]}),ee.push({defaultValue:"false",key:se,options:[{chance:.05,value:"true"}]});for(const e of ee){const{key:t}=e,i=this.fetchExperimentValue(e);this.experiments[t]={value:i.value},i.forced||Q.Instance.setItem(t,i.value)}}getExperimentValue(e){var t;return null===(t=this.experiments[e])||void 0===t?void 0:t.value}getExperimentValueAsBoolean(e){return void 0!==this.experiments[e]?"true"===this.experiments[e].value:void 0}getExperimentValueAsNumber(e){return void 0!==this.experiments[e]?Number(this.experiments[e].value):void 0}fetchExperimentValue(e){const{key:t}=e,i=this.getForcedExperimentValue(t);if(null!=i)return{value:i,forced:!0};const r=Q.Instance.getItem(t);if(null!=r)return{value:r};let s=Math.random();for(const t of e.options){const{chance:e,value:i}=t;if(s<e)return{value:i};s-=e}return{value:e.defaultValue}}getForcedExperimentValue(e){const t=window.location.search,i=new URLSearchParams(t).get(e);if(i)return i}}X(ne,"instance",void 0);const oe=ne;function ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class de{static getInstance(){return this.Instance||(this.Instance=new de),this.Instance}constructor(){ae(this,"uspConsent",void 0),ae(this,"tcfData",null),ae(this,"tcfSuccess",!1),ae(this,"tcfConsentListeners",[]),ae(this,"consentCBInstalled",!1),ae(this,"tcfInstalledListenerInstalled",!1),ae(this,"consentCb",((e,t)=>{this.tcfConsentListeners.forEach((i=>{this.callConsentListener(i,e,t)})),t&&e&&(this.tcfData=e,this.tcfSuccess=t,"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||this.removeConsentCB())})),ae(this,"installTCFLoadedListener",(()=>{this.tcfInstalledListenerInstalled||(window.addEventListener("message",this.tcfLoadedListener),this.tcfInstalledListenerInstalled=!0)})),ae(this,"tcfLoadedListener",(e=>{e.data&&"tcf-loaded"===e.data&&(window.removeEventListener("message",this.tcfLoadedListener),this.installConsentCB())})),this.installConsentCB()}getUspConsent(){return Promise.race([this.getUspConsentFromCMP(),C(200,null)])}addTCFConsentListener(e){this.tcfConsentListeners.push(e),this.tcfData&&this.callConsentListener(e,this.tcfData,this.tcfSuccess)}hasTCFConsent(){if(!this.tcfSuccess||!this.tcfData)return!1;return!this.tcfData.gdprApplies||"tcloaded"===this.tcfData.eventStatus||"useractioncomplete"===this.tcfData.eventStatus}removeTCConsentListener(e){this.tcfConsentListeners=this.tcfConsentListeners.filter((t=>t!==e))}callConsentListener(e,t,i){try{e(t,i)}catch(e){console.error(e)}}async installConsentCB(){if(this.consentCBInstalled)return;const e=window;e.__tcfapi||await W(),e.__tcfapi?(e.__tcfapi("addEventListener",2,this.consentCb),this.consentCBInstalled=!0):this.installTCFLoadedListener()}removeConsentCB(){var e;const t=window;var i;t.__tcfapi&&null!==(e=this.tcfData)&&void 0!==e&&e.listenerId&&t.__tcfapi("removeEventListener",2,null===(i=this.tcfData)||void 0===i?void 0:i.listenerId)}getUspConsentFromCMP(){return new Promise(((e,t)=>{if(void 0===this.uspConsent){const t=window.__uspapi;t?t("getUSPData",1,((t,i)=>{this.uspConsent=i?t:null,e(this.uspConsent)})):(this.uspConsent=null,e(this.uspConsent))}else e(this.uspConsent)}))}}ae(de,"Instance",void 0);const ce=de;function ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class le{static getInstance(){return this.instance||(this.instance=new le),this.instance}constructor(){ue(this,"blocklist",null),ue(this,"loadingPromise",null)}async filterBids(e,i){await this.loadBlocklist(),this.blocklist&&i&&Object.entries(i).forEach((i=>{let[r,{bids:s}]=i;s.forEach((i=>{this.isBidBlocked(i)&&(t.debug("blocking bid",i),e.markWinningBidAsUsed({adId:i.adId}))}))}))}isDomainBlocked(e){if(!this.blocklist)return!1;const{names:t,domains:i}=this.blocklist,r=e.split(".");if(i.some((e=>{if(r.length<e.length)return!1;const t=r.length-e.length;return e.every(((e,i)=>r[i+t]===e))})))return!0;return t.some((e=>!(r.length<e.length)&&e.every(((e,t)=>r[t]===e))))}loadBlocklist(){return this.blocklist?Promise.resolve():(this.loadingPromise||(this.loadingPromise=new Promise((e=>{o.e(698).then(o.t.bind(o,5698,19)).then((t=>{const{names:i,domains:r}=t.default;this.blocklist={names:i.map((e=>e.split("."))),domains:r.map((e=>e.split(".")))},this.loadingPromise=null,e()})).catch((i=>{t.error("error loading blocklist",i),this.loadingPromise=null,e()}))}))),this.loadingPromise)}isBidBlocked(e){const{advertiserDomains:t}=e.meta||{};return!!t&&t.some((e=>this.isDomainBlocked(e)))}}ue(le,"instance",void 0);const he=le;function pe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ge{constructor(e){pe(this,"adserverRequestSent",void 0),pe(this,"state",void 0),pe(this,"auctioneers",void 0),this.adserverRequestSent=!1,this.auctioneers=e,this.state=e.reduce(((e,t)=>Object.assign({},e,{[t]:null})),{})}setAuctioneerFinished(t){this.auctioneers.indexOf(t)<0&&(e.warn(`[RequestManager] Unexpected auctioneer ${t}`),this.auctioneers.push(t)),this.state[t]=Date.now()}haveBiddersFinished(){return this.auctioneers.every((e=>!!this.state[e]))}}function me(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class fe{constructor(e,t,i){this.code=e,this.dollarToEuro=i,me(this,"config",void 0),me(this,"adjust",(e=>{const{cost:t,discrepancy:i}=this.config;return e*this.dollarToEuro*(1-t)*(1-i)})),this.isNumber(this.dollarToEuro)||this.warnWrongVariable("dollarToEuro",i);const{rules:r,...s}=c.getBidderConfig(e)||{};this.config={...{cost:0,discrepancy:0,...s},...t},this.logConfig(this.config)}setBidding(e,i,r,s){const n=r||this.defaultConfig(),o=this.getBidderSettings(n,i);this.isBidderEnabledForUnit(i,o,s)?(r||t.warn(`[${this.code}] missing request unit config, bravely continuing with default config`),this.checkSettings(o,i),this.createBidsForUnit(e,i,o,s)):t.debug(`[${this.code}] disabled for unit ${i.code()}`)}isPrebidBidder(){return!1}getConfig(){return{...this.config}}checkVideoSettings(e,t){}checkBannerSettings(e,t){}checkSettings(e,t){const{cost:i,discrepancy:r}=e;this.warnIfNotSet("cost",i),this.warnIfNotSet("discrepancy",r),t.checkBidderSettings(e,this)}getBidderSettings(e,t){return Object.assign({},this.config,e)}warn(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];t.warn(`[${this.code}Bidder] ${e}`,...r)}warnIfNotSet(e,t){null!=t&&""!==t||this.warnWrongVariable(e,t)}warnWrongVariable(e,t){this.warn(`${e} incorrectly set`,t)}isNumber(e){return"number"==typeof e&&!isNaN(e)}isBidderEnabledForUnit(e,i,r){const{enabled:s}=i;return s?c.isBidderEnabledForSession(this.code,r.clientInfo,e.isBanner()?"banner":"video"):(t.debug(`bidder ${this.code} not enabled because of ads request config`),!1)}defaultConfig(){return{bidder:this.code}}logConfig(e){t.debug(`[${this.code}] ${JSON.stringify(e)}`)}}class be extends fe{isPrebidBidder(){return!0}getPrebidBidderSettings(){const e=Object.assign({},this.getAdjustment(),this.getCustomAdserverTargeting());return{[this.prebidCode()]:e}}getAdjustment(){return{bidCpmAdjustment:e=>this.adjust(e)}}getCustomAdserverTargeting(){return null}prebidCode(){return this.code}createBidsForUnit(e,t,i,r){const s=this.toBid(e,i,t,r);t.addPrebidBid(s)}customBidParams(e,t,i){return t.bidParamsForBidder(this,e,i)}toBid(e,t,i,r){if(this.code!==t.bidder)throw new Error("[Bidder] wrong bidconfig");return{bidder:this.prebidCode(),params:this.bidParams(e,t,i,r)}}bidParams(e,i,r,s){const n=this.customBidParams(i,r,s);return t.debug(`[${this.code}] Bid Params:`,n),n}}class ve extends be{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{tagId:i}=e;this.warnIfNotSet("tagId",i)}customUnitBidParams(e){const{tagId:t}=e;return{tagId:t}}}const we=class extends fe{createBidsForUnit(e,t,i){this.createBid(t,i)}createBid(e,i){const{slot:r,client:s}=i;if(!r)return void t.warn("[AdSense] missing slot");if(!s)return void t.error("[AdSense] missing client id");const n=e.code(),o=document.getElementById(n);if(!o)return void t.warn(`[AdSense] cannot find element ${n}`);const[a,d]=e.maxSize(),c=document.createElement("ins");c.setAttribute("class","adsbygoogle"),c.setAttribute("style",`display:inline-block;width:${a}px;height:${d}px`),c.setAttribute("data-ad-client",s),c.setAttribute("data-ad-slot",r),o.appendChild(c),e.getBids().setAdsense()}};class ye extends fe{checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{slotID:i}=e;this.warnIfNotSet("slotID",i)}createBidsForUnit(e,t,i,r){const{pubID:s,adServer:n,slotID:o,discrepancy:a}=i;e.setApstagConfig({pubID:s||"",adServer:n});const d=t.isVideo()?o:t.code();t.addApstagSlot({slotID:d||t.code()}),t.getBids().setAmazonDiscrepancy(a)}checkSettings(e,t){super.checkSettings(e,t);const{pubID:i,adServer:r}=e;this.warnIfNotSet("pubID",i),this.warnIfNotSet("adServer",r)}}class Se extends be{customVideoBidParams(e,t,i){const r=this.customAdUnitParams(e,t.mediaType()),{maxduration:s,minduration:n,skip:o,api:a}=i.openRTB;return{...r,video:{maxduration:s,minduration:n,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customAdUnitParams(e,t){const{pos:i}=t,{placementId:r}=e;return{placementId:`${r}`,allowSmallerSizes:!0,supplyType:"web",position:1===i?"above":void 0}}}class Ae extends be{customVideoBidParams(e,t,i){const r=t.mediaType();return this.customAdUnitParams(e,r)}customBannerBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customAdUnitParams(e,t){const{pos:i}=t,{placementId:r}=e;return{placementId:`${r}`,allowSmallerSizes:!0,supplyType:"web",position:1===i?"above":void 0}}}class Be extends be{customVideoBidParams(e,t,i){const r=this.customAdUnitParams(e,t.mediaType()),{maxduration:s,minduration:n,skip:o,api:a}=i.openRTB;return{...r,video:{maxduration:s,minduration:n,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customAdUnitParams(e,t){const{pos:i}=t,{placementId:r}=e;return{placementId:`${r}`,allowSmallerSizes:!0,supplyType:"web",position:1===i?"above":void 0}}}class Pe extends fe{constructor(){var e,t,i;super(...arguments),i=(e,t)=>{let{bids:i,adUnit:r}=e;const s=i.filter((e=>!!e)).sort(((e,t)=>t.cpm-e.cpm))[0];return s&&s.cpm-.01||null},(t="pricefloorFn")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}createBidsForUnit(e,t,i,r){const s=this.pricefloorFn;if(t.getBids().setGooglePriceFloor(s),t.isVideo()){const e=t.getBids(),s=r.openRTB,{descriptionUrl:n}=i,{maxduration:o}=s,a=1===s.skip,d={descriptionUrl:n,maxDuration:o};e.setGoogleVideoBid(d,a)}}isBidderEnabledForUnit(e,t,i){const r=super.isBidderEnabledForUnit(e,t,i);return e.isVideo()?r:(r||this.warn("disabling googlebidder for banners is not supported"),!0)}checkSettings(e,t){if(super.checkSettings(e,t),t.isVideo()){const{descriptionUrl:t}=e;t||this.warnIfNotSet("descriptionUrl",t)}}}class Ie extends be{customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{host:i,adUnitId:r,adUnitType:s,publisherId:n}=e;this.warnIfNotSet("host",i),this.warnIfNotSet("publisherId",n),this.warnIfNotSet("adUnitId",r),this.warnIfNotSet("adUnitType",s)}checkBannerSettings(e,t){super.checkBannerSettings(e,t);const{adUnitType:i}=e;"banner"!==i&&this.warnWrongVariable("adUnitType",i)}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{adUnitType:i}=e;"video"!==i&&this.warnWrongVariable("adUnitType",i)}customUnitBidParams(e){const{host:t,adUnitId:i,adUnitType:r,publisherId:s}=e;return{host:t,publisherId:s,adUnitId:i,adUnitType:r}}}class ke extends be{customVideoBidParams(e,t,i){const r=this.customAdUnitParams(e,i),{openRTB:s}=i,n=(null==s?void 0:s.minduration)??4,o=(null==s?void 0:s.maxduration)??(null!=s&&s.skip?60:15),a=1===(null==s?void 0:s.skip)?15:void 0;return{...r,video:{...s,minduration:n,maxduration:o,skipmin:a}}}customBannerBidParams(e,t,i){return this.customAdUnitParams(e,i)}checkVideoSettings(e,t){super.checkVideoSettings(e,t)}createBidsForUnit(e,t,i,r){const{sizes:s}=i;s.forEach((s=>{const n=Object.assign({},i,{size:s.slice()}),o=this.toBid(e,n,t,r);t.addPrebidBid(o)}))}customAdUnitParams(e,t){const{siteId:i,size:r}=e;return this.warnIfNotSet("size",r),{siteId:`${i}`,size:r,pageUrl:t.pageUrl}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:i}=e;this.warnIfNotSet("siteId",i)}}class Ue extends be{customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}customBannerBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customUnitBidParams(e){const{placementId:t}=e;return{placementId:t}}}class Te extends be{customBannerBidParams(e,t,i){return this.customUnitBidParams(e,i)}customVideoBidParams(e,t,i){const{api:r,protocols:s,mimes:n,skip:o,...a}=i.openRTB;return{...this.customUnitBidParams(e,i),video:{...a,skip:o??0}}}createBidsForUnit(e,t,i,r){const{adSlot:s,addSizes:n=!0}=i,o=t.getSizes();return n&&s?void o.forEach((n=>{const[o,a]=n,d=`${s}@${o}x${a}`,c=Object.assign({},i,{adSlot:d}),u=this.toBid(e,c,t,r);t.addPrebidBid(u)})):super.createBidsForUnit(e,t,i,r)}customUnitBidParams(e,t){const{pageUrl:i}=t,{publisherId:r,adSlot:s}=e;return s?{publisherId:r||"",adSlot:s,kadpageurl:i}:{publisherId:r||"",kadpageurl:i}}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:i}=e;this.warnIfNotSet("publisherId",i)}}class xe extends be{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{org:i,placementId:r}=e;this.warnIfNotSet("org",i),this.warnIfNotSet("placementId",r)}customUnitBidParams(e){const{org:t,placementId:i,testMode:r}=e;return{org:t,placementId:i,testMode:r}}}class _e extends be{customBannerBidParams(e,t){const i=this.customUnitBidParams(e),{sizes:r}=e;return{...i,...r&&{sizes:r}}}customVideoBidParams(e,t,i){this.checkVideoSizeSetting(e);const{sizes:r,language:s}=e,n=this.customUnitBidParams(e),o=i.openRTB,a=r?r[0]:null;return{...n,...a&&{size_id:a},video:{...o,language:s||"en"}}}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{language:i}=e;this.warnIfNotSet("language",i)}customUnitBidParams(e){const{accountId:t,siteId:i,position:r,zoneId:s}=e;return{accountId:t||"",siteId:i||"",zoneId:s||"",...r&&{position:r}}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:i,zoneId:r,accountId:s}=e;this.warnIfNotSet("siteId",i),this.warnIfNotSet("zoneId",r),this.warnIfNotSet("accountId",s)}checkVideoSizeSetting(e){const{sizes:t}=e;t&&1!==t.length&&this.warnWrongVariable("sizes",t)}}class Ce extends _e{checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}isBidderEnabledForUnit(e,t,i){if(e.isBanner()){if(oe.getInstance().getExperimentValueAsBoolean(se)){const r=super.isBidderEnabledForUnit(e,t,i);return r&&e.removePrebidBidder("rubicon"),r}}return!1}}class Re extends be{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:i,adUnitId:r,placement:s}=e;this.warnIfNotSet("publisherId",i),this.warnIfNotSet("adUnitId",r),this.warnIfNotSet("placement",s)}checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}customUnitBidParams(e){const{publisherId:t,adUnitId:i,placement:r}=e;return{publisherId:t,adUnitId:i,placement:r}}}const ze=e=>(e.getCustomAdserverTargeting=()=>({adserverTargeting:[{key:"hb_server_bidder",val:e=>M(e.bidderCode)},{key:"hb_server_adid",val:e=>e.adId},{key:"hb_server_pb",val:e=>e.pbCg},{key:"hb_server_size",val:e=>e.size},{key:"hb_server_format",val:e=>e.mediaType}]}),e);class je extends be{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}customUnitBidParams(e){const{pkey:t}=e;return{pkey:t,iframe:!0}}checkSettings(e,t){super.checkSettings(e,t);const{pkey:i}=e;this.warnIfNotSet("pkey",i)}}class Ee extends be{customVideoBidParams(e,t,i){return{}}checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{zoneId:i}=e;this.warnIfNotSet("zoneId",i)}customUnitBidParams(e){const{zoneId:t}=e;return{zoneId:`${t}`}}}class qe extends be{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{sid:i}=e;this.warnIfNotSet("sid",i)}customUnitBidParams(e){const{sid:t}=e;return{sid:t}}}class Fe extends be{customBannerBidParams(e,t,i){return this.customUnitBidParams(e,i)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e,i)}checkBannerSettings(e,t){super.checkBannerSettings(e,t),this.warn("should be disabled for banners")}customUnitBidParams(e,t){const{pageUrl:i}=t,{AV_PUBLISHERID:r,AV_CHANNELID:s,AV_CGINFO:n}=e;return{AV_PUBLISHERID:r,AV_CHANNELID:s,AV_CGINFO:n,AV_URL:i}}checkSettings(e,t){super.checkSettings(e,t);const{AV_PUBLISHERID:i,AV_CHANNELID:r}=e;this.warnIfNotSet("AV_PUBLISHERID",i),this.warnIfNotSet("AV_CHANNELID",r)}}class Oe extends be{customVideoBidParams(e,t,i){const r=this.customUnitBidParams(e,t.mediaType()),{maxduration:s,minduration:n,skip:o,api:a}=i.openRTB;return{...r,video:{maxduration:s,minduration:n,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const i=t.mediaType();return this.customUnitBidParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i,member:r}=e;this.warnIfNotSet("placementId",i),this.warnIfNotSet("member",r)}customUnitBidParams(e,t){const{placementId:i,member:r}=e,{pos:s}=t;return{placementId:i,member:r,allowSmallerSizes:!0,supplyType:"web",position:1===s?"above":void 0}}}class De{static createBidder(e,t,i){const r=i.dollarRate,s=V(e,i.bidders||[]),n=Object.assign({},t,s);switch(e){case"appnexus":return new Se(e,n,r);case"google":return new Pe(e,n,r);case"ix":return new ke(e,n,r);case"pubmatic":return new Te(e,n,r);case"rubicon":return new _e(e,n,r);case"s2s_rubicon":return ze(new Ce(e,n,r));case"sharethrough":return new je(e,n,r);case"venatus":return new Fe(e,n,r);case"rise":return new xe(e,n,r);case"stroeerCore":return new qe(e,n,r);case"mediafuse":return new Ue(e,n,r);case"amazon":return new ye(e,n,r);case"adsense":return new we(e,n,r);case"iionads":return new Ie(e,n,r);case"webads":return new Oe(e,n,r);case"goldbach":return new Be(e,n,r);case"smilewanted":return new Ee(e,n,r);case"beintoo":return new Ae(e,n,r);case"seedtag":return new Re(e,n,r);case"adbility":return new ve(e,n,r);default:return console.warn(`[BidderFactory] Unexpected bidder code ${e}`),null}}static createBidders(e,t){const i=["ix","rubicon","s2s_rubicon","sharethrough","pubmatic","appnexus","rise","google","amazon","adsense","stroeerCore","venatus","mediafuse","iionads","webads","goldbach","smilewanted","beintoo","seedtag","adbility"].map((i=>{const r=V(i,e.bidders||[]),s=Object.assign({code:i,video:{placements:{}}},r);return this.createBidder(i,s,t)}));let r=null,s=null,n=null;const o=[];return i.forEach((e=>{if(null!==e)switch(e.code){case"google":r=e;break;case"amazon":s=e;break;case"adsense":n=e;break;default:return void o.push(e)}})),[{bidder:r,code:"google"},{bidder:s,code:"amazon"},{bidder:n,code:"adsense"}].forEach((e=>{this.checkIfFailedToCreate(e.code,e.bidder)})),{google:r,amazon:s,prebid:o,adsense:n}}static checkIfFailedToCreate(e,t){if(!t)throw new Error(`[BidderFactory] failed to create ${e}`)}}function Le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ve{constructor(e,t){Le(this,"pbjs",void 0),Le(this,"adRequester",void 0),Le(this,"requestManager",void 0),Le(this,"requestPromise",void 0),Le(this,"adUnits",void 0),Le(this,"options",void 0),Le(this,"bidders",void 0),Le(this,"prebidAdUnits",void 0),Le(this,"apstagSlots",void 0),Le(this,"requestTimeout",void 0),Le(this,"apstagRequestTimeoutHit",!1),Le(this,"advertisingConfig",void 0),Le(this,"adRequestResponse",{}),this.adRequester=e,this.advertisingConfig=t,this.pbjs=x(),this.adUnits=[],this.prebidAdUnits=null,this.apstagSlots=null,this.requestManager=new ge(["amazon","prebid"]),this.requestPromise=null,this.requestTimeout=t.timeout||1200}requestAds(e,i){return new Promise((async(r,s)=>{if(this.requestPromise={resolve:r,reject:s},0===e.length)return t.debug("[AdRequest] No renderable ad units requested"),void this.requestPromise.resolve(this.adRequestResponse);this.adUnits=e,this.options=i,this.createBidders(),this.adRequester.loadScripts((e=>{t.debug(`[AdRequest] ${e} failed to loaded`),this.adUnits&&this.auctioneerRequestFinished(e)}),!!i.disableBlockthrough),this.setTimeout(i),this.processAds()}))}async processAds(){this.setAdsenseBids(),this.adRequester.loadAdsenseIfBid(),this.setNonGoogleBids(),this.requestApstag(),this.requestPrebid()}async auctioneerRequestFinished(e){if(t.debug(`[AdRequest] ${e} finished`),this.requestManager.setAuctioneerFinished(e),this.requestManager.haveBiddersFinished()){var i;if(await this.initAdserver())null===(i=this.requestPromise)||void 0===i||i.resolve(this.adRequestResponse)}}setTimeout(e){const{timeout:t}=e;t&&(this.requestTimeout=t)}noAmazonBids(){return 0===this.getRequestedApstagSlots().length}noPrebidUnits(){return 0===this.getRequestedPrebidAdUnits().length}noPrebidBids(){const e=this.getRequestedPrebidAdUnits();return 0===e.length||e.every((e=>0===e.bids.length))}prebidBidders(){return this.bidders.prebid}apstag(){return window.apstag}createBidders(){this.bidders=De.createBidders(this.advertisingConfig,this.options)}setAdsenseBids(){this.adRequester.setBidsForUnits(this.adUnits,this.options,[this.bidders.adsense])}setNonGoogleBids(){this.adRequester.setBidsForUnits(this.adUnits,this.options,[...this.bidders.prebid,this.bidders.amazon])}setAmazonBids(e){const t=e.filter((e=>"video"===e.mediaType)),i=e.filter((e=>"video"!==e.mediaType));this.setAmazonVideoBids(t),this.setAmazonBannerBids(i)}setAmazonVideoBids(e){const i=this.adUnits.filter((e=>e.isVideo()));if(i.length>0){const r=i[0],s=e.map((e=>r.getBids().processAmazonBid(e))).filter((e=>!!e));if(Math.max(...s.map((e=>e.cpm)))>0){const e=r.code();this.adRequestResponse[e]=this.adRequestResponse[e]||{bids:[]},this.adRequestResponse[e].bids.push({bidder:"amazon"})}r.getBids().setAmazonBid(s),i.length>1&&t.warn("[apstag] got multiple video units, cant deal with those")}}setAmazonBannerBids(e){const i=this.adUnits.filter((e=>e.isBanner()));e.forEach((e=>{const{slotID:r}=e,s=i.find((e=>e.code()===r));if(!s)return void t.warn("[apstag] bid without matching unit");const n=s.getBids().processAmazonBid(e);n&&(n.cpm>0&&(this.adRequestResponse[r]=this.adRequestResponse[r]||{bids:[]},this.adRequestResponse[r].bids.push({bidder:"amazon"})),s.getBids().setAmazonBid([n]))}))}requestPrebid(){this.noPrebidUnits()||this.adRequester.getPrebidFailedToLoad()?this.auctioneerRequestFinished("prebid"):this.pbjs.que.push((()=>{this.setPrebidBidderSettings(),this.prebidAddAdUnits(),this.prebidRequestBids()}))}setPrebidBidderSettings(){const e=this.prebidBidders().reduce(((e,t)=>Object.assign({},e,t.getPrebidBidderSettings())),{standard:{bidCpmAdjustment:e=>e,storageAllowed:!1,allowAlternateBidderCodes:!0}});this.pbjs.bidderSettings=e}prebidAddAdUnits(){const e=this.getRequestedPrebidAdUnits();e.forEach((e=>{this.pbjs.removeAdUnit(e.code)})),this.pbjs.addAdUnits(e)}prebidRequestBids(){this.noPrebidBids()?this.auctioneerRequestFinished("prebid"):this.pbjs.requestBids({adUnits:this.getRequestedPrebidAdUnits(),bidsBackHandler:async e=>{Object.keys(e).forEach((t=>{this.adRequestResponse[t]=this.adRequestResponse[t]||{bids:[]};const i=e[t].bids.map((e=>({bidder:e.bidderCode})));this.adRequestResponse[t].bids.push(...i)})),await he.getInstance().filterBids(this.pbjs,e),this.auctioneerRequestFinished("prebid")},timeout:this.requestTimeout})}getRequestedPrebidAdUnits(){return null===this.prebidAdUnits&&(this.prebidAdUnits=this.adRequester.getPrebidAdUnitsForUnits(this.adUnits)),this.prebidAdUnits}async requestApstag(){if(this.noAmazonBids()||this.adRequester.getApstagFailedToLoad())return void this.auctioneerRequestFinished("amazon");this.adRequester.loadAmazon((()=>{this.options.disableBlockthrough||O(),this.auctioneerRequestFinished("amazon")})),await this.adRequester.initializeApstag(this.options),await new Promise((e=>{setTimeout(e,100),requestAnimationFrame((()=>{setTimeout(e,0)}))}));let e=null;try{const i={slots:this.getRequestedApstagSlots(),timeout:this.requestTimeout};t.debug(`[apstag] ${JSON.stringify(i)}`),this.apstagRequestTimeoutHit=!1,e=window.setTimeout((()=>{t.debug("[apstag] timeout"),this.apstagRequestTimeoutHit=!0,this.auctioneerRequestFinished("amazon")}),this.requestTimeout+100),await this.setAmazonUser(),this.apstag().fetchBids(i,(i=>{e&&window.clearTimeout(e),this.apstagRequestTimeoutHit||(t.debug("[apstag] bids back"),i.forEach((e=>{t.debug(`[apstag] ${JSON.stringify(e)}`)})),this.setAmazonBids(i),this.auctioneerRequestFinished("amazon"))}))}catch(i){t.error(i),e&&window.clearTimeout(e),this.auctioneerRequestFinished("amazon")}}async setAmazonUser(){var e,i;const r=null===(e=this.options.clientInfo)||void 0===e?void 0:e.country;if(!r||!Y(r))return;const{user:s}=this.options;if(!s)return;if(t.debug("[AdRequest] Setting user info",s),!s.email||null===(i=s.amazon)||void 0===i||!i.applicable)return new Promise((e=>{this.apstag().dpa(e)}));t.debug("[AdRequester] Setting email in apstag");const n={hashedRecords:[{type:"email",record:await async function(e){const t=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(s.email)}]};return new Promise((e=>{this.apstag().upa(n,e)}))}getRequestedApstagSlots(){return null===this.apstagSlots&&(this.apstagSlots=this.adRequester.getApstagSlotsForUnits(this.adUnits)),this.apstagSlots}async initAdserver(){var e;if(this.requestManager.adserverRequestSent)return!1;this.requestManager.adserverRequestSent=!0;const t=this.adUnits.filter((e=>e.isVideo()));if(0===t.length)return!0;const i=null===(e=this.options.bidders)||void 0===e?void 0:e.filter((e=>"google"===e.bidder))[0],r={dollarRate:this.options.dollarRate,dfp:this.options.dfp,requestTimeout:this.options.timeout??this.requestTimeout,googleBidder:i,video:this.options.video,disableBlockthrough:this.options.disableBlockthrough,trafficSource:this.options.trafficSource};return await this.adRequester.renderBids(t,r),!0}}const Me=JSON.parse('{"K":["1a5ue4g","sekdmo","1rx4em8","1rncw0","11a7dvk","jixdds","1j1hedc","f33v9c","1elnw8w","wudvr4","1wcxwqo","67gv0g","15q0w00","nyqvi8","1nhawhs","cv7474","1cdr56o","umh4ow","1u515og","3zk3y8","13i44xs","lqu4g0","1l9e5fk","hb0mbk","1gtknb4","z2amtc","1ykunsw","8fdm2o","17xxn28","q6nmkg","1pp7nk0","9jbzls","191w0lc","ram03k","1qt6134","nozcw","10690cg","ieyzuo","1hxj0u8","dz5hq8","1dhpips","vqfi80","1v8zj7k","53ihhc","14m2igw","mushz4","1mdciyo","br8qo0","1b9srnk","tiir5s","1t12s5c","2vlqf4","12e5reo","kmvqww","1k5frwg","g728sg","1fpm9s0","xyc9a8","1xgwa9s","7bf8jk","16tz9j4","p2p91c","1ol9a0w","a3b6dc","19lv7cw","rul6v4","1rd57uo","17o64g","10q8740","iyy6m8","1ihi7ls","ej4ohs","1e1ophc","waeozk","1vsypz4","5nho8w","1561p8g","neroqo","1mxbpq8","cb7xfk","1btryf4","u2hxxc","1tl1yww","3fkx6o","12y4y68","l6uxog","1kpeyo0","gr1fk0","1g9lgjk","yibg1s","1y0vh1c","7vefb4","17dygao","pmofsw","1p58gsg","8zcsu8","18hwtts","qqmtc0","1q96ubk","3pslc","zm9tkw","huzt34","1hdju2o","df6ayo","1cxqby8","v6gbgg","1up0cg0","4jjaps","1423bpc","matb7k","1ltdc74","b79jwg","1aptkw0","syjke8","1sh3lds","2bmjnk","11u6kn4","k2wk5c","1jlgl4w","fn320w","1f5n30g","xed2io","1wwx3i8","6rg1s0","16a02rk","oiq29s","1o1a39c","ax9yio","1aftzi8","sojz0g","1s74000","21my9s","11k6z9c","jswyrk","1jbgzr4","fd3gn4","1evnhmo","x4dh4w","1wmxi4g","6hgge8","1600hds","o8qgw0","1nrahvk","d56pkw","1cnqqkg","uwgq2o","1uf0r28","49jpc0","13s3qbk","m0tpts","1ljdqtc","hl07pc","1h3k8ow","zca874","1yuu96o","8pd7gg","187x8g0","qgn7y8","1pz78xs","9tbkzk","19bvlz4","rkllhc","1r35mgw","xokqo","10g8lq8","ioyl8g","1i7im80","e95340","1drp43k","w0f3ls","1viz4lc","5di2v4","14w23uo","n4s3cw","1mnc4cg","c18c1s","1bjsd1c","tsicjk","1tb2dj4","35lbsw","12o5csg","kwvcao","1kffda8","gh1u68","1fzlv5s","y8buo0","1xqvvnk","7letxc","173yuww","pcouf4","1ov8veo","adarr4","19vusqo","s4ks8w","1rn4t8g","1hnri8","1107shs","j8xs00","1irhszk","et49vk","1eboav4","wkeadc","1w2ybcw","5xh9mo","15g1am8","nora4g","1n7bb40","cl7itc","1c3rjsw","uchjb4","1tv1kao","3pkikg","1384jk0","lguj28","1kzek1s","h110xs","1gjl1xc","ysb1fk","1yav2f4","85e0ow","17ny1og","pwo16o","1pf8268","99ce80","18rwf7k","r0meps","1qj6fpc","dpdz4","zw9eyo","i4zegw","1hnjfgg","dp5wcg","1d7pxc0","vgfwu8","1uyzxts","4tiw3k","14c2x34","mkswlc","1m3cxkw","bh95a8","1azt69s","t8j5s0","1sr36rk","2lm51c","124660w","kcw5j4","1jvg6io","fx2neo","1ffmoe8","xocnwg","1x6wow0","71fn5s","16jzo5c","ospnnk","1ob9on4","asa5ts","1aau6tc","sjk6bk","1s247b4","1wn5kw","11f76kg","jnx62o","1j6h728","f83ny8","1eqnoxs","wzdog0","1whxpfk","6cgnpc","15v0oow","o3qo74","1nmap6o","d06ww0","1ciqxvk","urgxds","1ua0ydc","44jwn4","13n3xmo","lvtx4w","1ledy4g","hg0f0g","1gykg00","z7afi8","1ypughs","8kderk","182xfr4","qbnf9c","1pu7g8w","9obsao","196vta8","rflssg","1qy5ts0","sos1s","10b8t1c","ijysjk","1i2itj4","e45af4","1dmpbeo","vvfaww","1vdzbwg","58ia68","1beskcg","krvjls","1xlw2yo","a8az28","10v7zsw","wfehog","1n2bif4","3kkpvk","1gel98g","pro8hs","1qe6n0g","dk63nk","14734e8","t3jd34","1jqgdts","6wfugw","1akts74","jxwrgg","1wrxatc","da6i9s","13x3j0g","zha0w0","1q471mo","12odfk","1dwowsg","n9rw1s","1tg2680","gm1mv4","178ynls","s9kkxs","1iwhlog","62h2bk","1c8rchs","llubr4","1yfuv40","9ec6ww","10197nk","vlfpj4","1m8cq9s","2qlxq8","1fkmh34","oxpgcg","1rumi9s","f0lyww","15niznk","ujz8cg","1l6w934","8cvpq8","18ze48w","ich3i8","1v6hmv4","boqubk","12bnv28","xvucxs","1oirdog","1569s0","1dz6t4w","nc9se8","1tik2kg","gojj7k","17bgjy8","qo4wzk","1hb1xq8","4h1edc","1anbojk","k0ensw","1wuf75s","aus268","11hp2ww","x1vksg","1noslj4","471szk","1h12ccg","qe5bls","1r0nq4g","e6n6rk","14tk7i8","tq0g74","1kcxgxs","7iwxkw","19tcwe8","j6fvnk","1w0gf0g","cipmgw","135mn7k","ypt534","1pcq5ts","b7hmo","1d580zk","mib08w","1solaf4","fukr28","16hhrsw","sh29z4","1j3zaps","69yrcw","1cg91j4","ltc0sg","1ynck5c","9ltvy8","u4zu9s","244um8","kzd8n4","drnsow","z3jkzk","5oqmf4","ojz0g0","c2ha80","r1vcw0","45sutc","j56xhc","ftbsw0","w6nugw","8bmrk0","nxhxc0","a22874","sxam80","wfmkg","lflkw0","f6ups0","y233sw","4na58g","qke2gw","coydc0","2uz9c0","hkdqm8","70t62o","93q4g0","1m1340","dw14ao","6ec2yo","be4ruo","3hgcg0","gix9fk","8g035s","axwfls","ebv28","eoqy9s","5j4cn4"],"R":["v_1gtknb4","v_tiir5s","v_1vsypz4","v_3pslc","v_16a02rk","v_m0tpts","v_1mnc4cg","v_et49vk","v_18rwf7k","v_xocnwg","v_1ua0ydc","v_58ia68","v_10v7zsw","v_pro8hs","v_1jqgdts","v_da6i9s","v_1dwowsg","v_s9kkxs","v_1yfuv40","v_2qlxq8","v_15niznk","v_ich3i8","v_1oirdog","v_gojj7k","v_1anbojk","v_x1vksg","v_1r0nq4g","v_7iwxkw","v_135mn7k","v_mib08w","v_1j3zaps","v_9ltvy8","v_1fs464g","v_u4zu9s","v_1uri8sg","v_244um8","v_18af4sg","v_kzd8n4","v_1n9t7gg","v_drnsow","v_1a73cao","v_z3jkzk","v_1t2bqbk","v_5oqmf4","v_znirr4","v_ojz0g0","v_1lkmozk","v_c2ha80","v_1ecx91c","v_r1vcw0","v_1x85n28","v_45sutc","v_14sb9c0","v_j56xhc","v_1pbh7nk","v_ftbsw0","v_1ctzhfk","v_w6nugw","v_1rtdk3k","v_8bmrk0","v_12aeww0","v_nxhxc0","v_1hwa2o0","v_a22874","v_1g8cidc","v_sxam80","v_1wlojy8","v_wfmkg","v_172pwqo","v_lflkw0","v_1m23zeo","v_f6ups0","v_195mv40","v_y233sw","v_1tostfk","v_4na58g","v_11nxts0","v_qke2gw","v_1kj67sw","v_coydc0","v_sdxwjk","v_2uz9c0","v_hudc00","v_hkdqm8","v_wjrta8","v_70t62o","v_mz5tkw","v_93q4g0","v_v0u1og","v_1m1340","v_kh9h4w","v_dw14ao","v_yf72m8","v_6ec2yo","v_p9kgzk","v_be4ruo","v_rchfcw","v_3hgcg0","v_juse0w","v_gix9fk","v_8g035s","v_axwfls","v_ebv28","v_eoqy9s","v_5j4cn4","v_ctboxs","v_29r4e8","v_gz5log","v_7ejlz4","v_9wfyf4","v_1rc4cg","v_dev2f4","v_5x6134","v_bvxatc","v_4e89hc","v_g1r7k0","v_7slaf4","v_aahmv4","v_pvn5s","v_ffa4g0"]}');function Ne(e,t,i){const r={},s=[];let n=0;let o=100*i,a=0,d=0;return t.forEach((t=>{const i=e.find((e=>e.key===t));i&&(s.push({min:a,max:d,increment:o}),a=d,o=100*i.inc),n+=o,r[t]=n/100,d=n})),s.push({min:a,max:d,increment:o}),{cpms:r,buckets:s}}let $e=null,We=[],Ge=[];function He(){const e=Ne([{key:"1beskcg",inc:.05},{key:"u4zu9s",inc:.5},{key:"2uz9c0",inc:1}],Me.K,.01),t=Ne([{key:"v_sdxwjk",inc:.5},{key:"v_8g035s",inc:1}],Me.R,.25);return $e=Object.assign({},e.cpms,t.cpms),We=e.buckets,Ge=t.buckets,$e}function Ke(e,t){const i=function(e){return 0!==We.length&&0!==Ge.length||He(),e?Ge:We}(t);for(let t=0;t<i.length;t++){const r=i[t];if(e>r.min&&e<=r.max)return r}return i[i.length-1]}function Ye(e){return Math.round(100*e)/100}const Je=function(e,t){const{amznbid:i}=e,{dollarRate:r,discrepancy:s}=t;return Ye(function(e){$e||He();const t=$e[e];return void 0===t?0:t}(i)*r*(1-s))};function Ze(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Qe=class{constructor(){Ze(this,"pbjs",window.pbjs),Ze(this,"impressionKey","impression_number"),Ze(this,"priceFloorKey","pf"),Ze(this,"unit",void 0),Ze(this,"prebidPriceFloor",void 0),Ze(this,"googlePriceFloor",void 0),Ze(this,"hasAdsense",void 0),Ze(this,"prebidBids",void 0),Ze(this,"amazonDiscrepancy",void 0),Ze(this,"apstagSlotIds",[]),this.hasAdsense=!1,this.prebidPriceFloor=null,this.googlePriceFloor=null,this.prebidBids=[],this.amazonDiscrepancy=0}setAdsense(){this.hasAdsense=!0}hasAdsenseBid(){return this.hasAdsense}resetPriceFloorsAndBids(){this.prebidPriceFloor=null,this.googlePriceFloor=null,this.prebidBids=[]}shouldRenderBid(e){const t=this.getCurrentWinningPrebidBidInfo(),i=this.getCurrentWinningAmazonBidInfo();return this.applyFilterFn(t,e)||this.applyFilterFn(i,e)}applyFilterFn(e,t){if(!t)return!0;if(!e)return!1;try{return t(e)}catch(e){}return!0}addPrebidBid(e){this.prebidBids.push(e)}removePrebidBidder(e){this.prebidBids=this.prebidBids.filter((t=>t.bidder!==e))}getBidsForPrebid(){return this.prebidBids}getPrebidUnits(){if(0===this.prebidBids.length)return[];return[this.toPrebidUnit()]}toPrebidUnit(){const e=this.getPrebidPriceFloorObject(this.getPrebidPriceFloor());return{...{...this.unit.requestUnit.adUnit,code:this.unit.code()},bids:this.getBidsForPrebid(),floors:e}}currentWinningPrebidBid(){if(!this.pbjs||!this.pbjs.getHighestCpmBids)return null;const e=this.getHighestPrebidBidResponses();if(0===e.length)return null;return e.sort(((e,t)=>e.cpm>t.cpm?-1:1))[0]}getHighestPrebidBidResponses(){return this.pbjs.getHighestCpmBids(this.unit.code())}getCurrentWinningPrebidBidInfo(){const e=this.currentWinningPrebidBid();return e?this.prebidBidResponseToBidInfo(e):null}prebidBidResponseToBidInfo(e){return e?{cpm:e.cpm,rendered:"rendered"===e.status,bidder:e.bidderCode,code:this.unit.code()}:null}getPrebidPriceFloor(){return this.prebidPriceFloor||(this.prebidPriceFloor=this.computePrebidPriceFloor()),this.prebidPriceFloor}computePrebidPriceFloor(){const e=this.getHighestWinningBid();return this.computeRequestPriceFloor(e?[e]:[])}getPrebidPriceFloorObject(e){if(null!==e)return{currency:"USD",default:e,schema:{fields:["mediaType"]},values:{[this.isBanner()?"banner":"video"]:e}}}processAmazonBid(e){const t=Je(e,{dollarRate:p(),discrepancy:this.amazonDiscrepancy}),i=(this.computeApsPriceFloor()||0)*(1-this.amazonDiscrepancy);return t>=Ye(this.usdToEuro(i||0))?{...e,cpm:t}:null}setAmazonDiscrepancy(e){this.amazonDiscrepancy=e}computeApsPriceFloor(){const e=this.getHighestWinningBid(),i=this.computeRequestPriceFloor(e?[e]:[]);if(!i)return null;const r=this.priceFloorToUSDValue(i/(1-this.amazonDiscrepancy));if(null===r)return t.warn("Amazon pricefloor is not a number",i),null;t.debug("Amazon pricefloor (EUR)",i),t.debug("Amazon pricefloor with discrepancy, before bucketing (USD)",r);const s=function(e,t){const i=Ke(e,t);return Math.ceil(e/i.increment)*i.increment}(100*r,this.isVideo())/100;return t.debug("Amazon pricefloor after bucketing (USD)",s),s}getCurrentWinningAmazonBidInfo(){const e=this.getAmazonBid();return e?this.amazonBidResponseToBidInfo(e):null}amazonBidResponseToBidInfo(e){return e?{cpm:e.cpm,rendered:!1,bidder:"amazon",code:e.slotID}:null}getHighestWinningBid(){const e=this.getWinningBids();return 0===e.length?null:e.sort(((e,t)=>t.cpm-e.cpm))[0]}getWinningBids(){return[this.getCurrentWinningAmazonBidInfo(),this.getCurrentWinningPrebidBidInfo()].filter((e=>!!e))}getGooglePriceFloor(){if(this.googlePriceFloor&&this.googlePriceFloor>0)return this.googlePriceFloor;const e=this.getPrebidPriceFloor();return e||null}setGooglePriceFloor(e){const t={current:this.googlePriceFloor??0,prebid:0,amazon:0},i=this.getCurrentWinningPrebidBidInfo(),r=e({bids:i?[i]:[],adUnit:this.unit});if(r){const e=100,i=Math.floor(r*e),s=this.applyBucket(i,this.getPrebidBucketIncrement(i))/e;s&&(t.prebid=s)}if(oe.getInstance().getExperimentValueAsBoolean(ie)){const i=this.getCurrentWinningAmazonBidInfo(),r=e({bids:i?[i]:[],adUnit:this.unit});r&&(t.amazon=r)}this.googlePriceFloor=Math.max(t.current,t.prebid,t.amazon)}priceFloorTargeting(e){const t=Math.floor(100*e),i=this.applyBucket(t,this.getPriceFloorIncrement(t));return(Math.min(i,5e3)/100).toFixed(2)}getPrebidBucketIncrement(e){const t=this.getPriceBuckets();for(const i of t)if(e<=100*i.max)return 100*i.increment;return 100*t[t.length-1].increment}getPriceFloorIncrement(e){return e<=200?1:e<=1e3?5:e<=2e3?10:100}applyBucket(e,t){return e-e%t}computeRequestPriceFloor(e){if(this.unit.requestUnit.noPriceFloor||this.unit.requestOptions.noPriceFloor)return null;const t={bids:e,adUnit:this.unit};return this.applyPriceFloorFunctions(t)}applyPriceFloorFunctions(e){const t=this.unit.requestUnit.priceFloor,i=this.unit.requestOptions.priceFloor,r=[v.advertising.priceFloor,i,t].filter((e=>!!e));if(0===r.length)return null;const s=r.reduce(((e,t)=>{if("number"==typeof t){const e=()=>t;return t=>e()}return i=>t(i,e)}),void 0);return s(e)}priceFloorToUSDValue(e){return"number"!=typeof e||isNaN(e)?(t.warn("misconfigured pricefloor",e),null):this.euroToUSD(e)}euroToUSD(e){return e/Number(p())}usdToEuro(e){return e*Number(p())}};const Xe=new class{constructor(){var e,t,i;i=void 0,(t="cache")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.cache=new Map}getHighestBidForSlotIds(e,t){const i=[];for(const t of e){const e=this.getBidsForSlot(t);e.length>0&&i.push(...e)}const r=this.getBidsForSizes(i,t);return this.getHighestBid(r)}cacheBid(e,t){if(e.cpm<=0)return;const i={...e,receivedAt:Date.now(),used:!1,adFormat:t.adFormat},r=this.getBidsForSlot(e.slotID)||[];this.cache.set(e.slotID,[...r,i])}getBidsForSlot(e){const i=this.cache.get(e);if(!i)return[];const r=i.filter((e=>this.isValidBid(e)));return t.debug(`[AmazonBidCache] getBidsForSlot(${e})`,i,`${r.length} valid bids`),this.cache.set(e,r),r}markBidAsUsed(e){t.debug("[AmazonBidCache] markBidAsUsed",e);let i=null;return this.cache.forEach((r=>{r.forEach((r=>{r.amzniid===e&&(t.debug("[AmazonBidCache] Found bid to mark as used",r),r.used=!0,i=r)}))})),i}reset(){this.cache.clear()}getHighestBid(e){return 0===e.length?null:e.reduce(((e,t)=>t.cpm>e.cpm||t.cpm===e.cpm&&t.receivedAt<e.receivedAt?t:e),e[0])}isValidBid(e){const t="video"===e.adFormat?25e4:15e4,i=e.receivedAt+t;return Date.now()<i&&!e.used}getBidsForSizes(e,t){if(0===t.length)return e;const i=t.map((e=>`${e[0]}x${e[1]}`));return e.filter((e=>i.includes(e.amznsz)))}};function et(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const tt=[{precision:2,max:10,increment:.01},{precision:2,max:50,increment:.5},{precision:2,max:100,increment:1}];const it=class extends Qe{constructor(e){super(),et(this,"unit",void 0),et(this,"slot",void 0),et(this,"apstagSlot",void 0),this.unit=e}isBanner(){return!0}isVideo(){return!1}getMinPricePaidForUnit(e,t){if(e||t)return 0;const i=this.currentWinningPrebidBid(),r=this.getAmazonBid(),s=this.prebidPriceFloor;return((null==r?void 0:r.cpm)||0)>=((null==i?void 0:i.cpm)||0)?Math.max((null==r?void 0:r.cpm)||0,s||0):i?Math.max(i.cpm,s||0):s||0}resetPriceFloorsAndBids(){super.resetPriceFloorsAndBids(),this.removeApstagSlots()}getAmazonBid(){return t.debug(`[BannerBids] Unit: ${this.unit.code()}. Using Amazon bid cache with slot ids: ${this.apstagSlotIds}`),Xe.getHighestBidForSlotIds(this.apstagSlotIds,this.unit.getSizes())}setAmazonBid(e){e.length>1&&t.warn(`[Bids] ${this.unit.code()} Multiple Amazon bids received for a banner when only one was expected`,e);const i=e[0];Xe.cacheBid(i,{adFormat:"banner"})}getApstagSlots(){return this.apstagSlot?[this.apstagSlot]:void 0}setApstagSlots(){if(this.apstagSlot){const e=this.computeApsPriceFloor();e&&(this.apstagSlot.floor={value:Math.floor(100*e),currency:"USD"})}}addApstagSlot(e){this.apstagSlotIds.push(e);const{slotId:t}=this.unit.requestUnit;this.apstagSlot={slotID:e,slotName:t,sizes:this.unit.getSizes()}}removeApstagSlots(){this.apstagSlot=void 0,this.apstagSlotIds=[]}slotId(){return this.slot?this.slot.getAdUnitPath():null}getSlot(){if(!this.slot)throw new Error(`[AdUnit] ${this.unit.code()} expected to have googletag slot`);return this.slot}findSlot(e){if(this.slot)return this.slot;return window.googletag.pubads().getSlots().find((t=>t.getSlotElementId()===e))}defineSlot(){if(!this.slot){if(this.slot=window.googletag.defineSlot(this.unit.requestUnit.slotId,this.unit.getSizes(),this.unit.elementId()),this.slot)this.slot.addService(window.googletag.pubads());else{const e=this.findSlot(this.unit.elementId());this.slot=e}t.debug("[BannerBids] Created slot",this.slot)}}markSlotAsDestroyed(){this.slot=void 0}setSlotTargeting(e){const t=this.getSlot(),i=this.getGooglePriceFloor(),r={[this.impressionKey]:e.toString()};return null!==i&&(r[this.priceFloorKey]=this.priceFloorTargeting(i)),t.updateTargetingFromMap(r),t}getPriceBuckets(){return tt}};function rt(e){const t=[],{video:i,native:r,banner:s}=e.mediaTypes;return i&&t.push(i.playerSize.slice()),r&&r.image&&t.push(...r.image.sizes.map((e=>e.slice()))),s&&t.push(...s.sizes.map((e=>e.slice()))),t}const st=["138241885337","138241895930","138241896683","138242044687","138367023875","138382194304","138427190788","138436849730","138473836137","138474573619","138479636654"],nt=["138340379973","138340379976","138340320638","138340379970","138340320629","138340320635","138340379967","138340379961","138340379964","138340320632"];function ot(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const at=class{constructor(e,t){this.requestUnit=e,this.requestOptions=t,ot(this,"numberOfRequests",void 0),ot(this,"numberOfImpressions",void 0),ot(this,"bids",void 0),ot(this,"houseAdWasRenderedInRowCounter",0),this.numberOfRequests=1,this.numberOfImpressions=0}addApstagSlot(e){this.bids.addApstagSlot(e.slotID)}getApstagSlots(){return this.bids.getApstagSlots()}setApstagSlots(){this.bids.setApstagSlots()}addPrebidBid(e){this.bids.addPrebidBid(e)}removePrebidBidder(e){this.bids.removePrebidBidder(e)}resetForRender(e,t){this.bids.resetPriceFloorsAndBids(),this.requestUnit=e,this.requestOptions=t}elementId(){return this.code()}code(){return this.requestUnit.adUnit.code}setBids(t,i,r){if(this.bids.hasAdsenseBid()){const t=i.map((e=>e.code));e.debug(`[AdUnit] ${this.code()} ignoring ${t.join(" ")} bids due to adsense`)}else i.forEach((e=>this.setBidderBid(t,e,r)))}getSizes(){return rt(this.requestUnit.adUnit)}maxSize(){const e=this.getSizes(),t=e.map((e=>e[0])),i=e.map((e=>e[1]));return[Math.max(...t),Math.max(...i)]}shouldRenderBid(e){return this.bids.shouldRenderBid(e)?this:void 0}isBanner(){return!1}isVideo(){return!1}getNumberOfRequests(){return this.numberOfRequests}getNumberOfImpressions(){return this.numberOfImpressions}getHouseAdWasRenderedInRowCounter(){return this.houseAdWasRenderedInRowCounter}setBidderBid(e,t,i){const r=(this.requestUnit.bidders||[]).find((e=>e.bidder===t.code));r?t.setBidding(e,this,r,i):t.setBidding(e,this,null,i)}};function dt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ct extends at{constructor(e,t){super(e,t),dt(this,"maxHouseAdRenderInRow",void 0),dt(this,"bids",void 0),dt(this,"unitHasBeenDisplayed",!1),this.bids=new it(this),this.maxHouseAdRenderInRow=4}getBids(){return this.bids}mediaType(){return this.requestUnit.adUnit.mediaTypes.banner}isBanner(){return!0}display(){this.unitHasBeenDisplayed||(this.unitHasBeenDisplayed=!0,window.googletag.display(this.elementId()))}bidParamsForBidder(e,t,i){return e.customBannerBidParams(t,this,i)}checkBidderSettings(e,t){return t.checkBannerSettings(e,this)}canRender(){return(0===this.numberOfImpressions||!this.getBids().hasAdsenseBid())&&this.maxHouseAdRenderInRow>this.houseAdWasRenderedInRowCounter}async resetForRender(t,i){let r=!1;if(function(e,t){return t.some((t=>!e.some((e=>e[0]===t[0]&&e[1]===t[1]))))}(rt(this.requestUnit.adUnit),rt(t.adUnit))&&(e.debug("[AdRequester] Remaking slots because new unit contains different banner sizes"),await this.remakeSlot(),r=!0),super.resetForRender(t,i),!r&&this.numberOfImpressions>0&&this.numberOfImpressions%ct.maxImpressionsBeforeRemakingSlots==0)return e.debug("[AdRequester] Remaking slots because of max impressions reached"),this.remakeSlot()}findSlot(){const{slotId:t}=this.requestUnit;return t||e.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.bids.findSlot(this.elementId())}getSlot(){return this.bids.getSlot()}slotId(){return this.bids.slotId()}defineSlot(){const{slotId:t}=this.requestUnit;t||e.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.bids.defineSlot()}markSlotAsDestroyed(){this.bids.markSlotAsDestroyed()}increaseNumberOfImpressions(){this.numberOfImpressions+=1}increaseNumberOfRequests(){this.numberOfRequests+=1}renderedNonHouseAd(){e.debug(`[BannerUnit] ${this.code()} rendered non house ad`),this.houseAdWasRenderedInRowCounter=0}renderedHouseAd(){e.debug(`[BannerUnit] ${this.code()} rendered house ad`),this.houseAdWasRenderedInRowCounter++}setSlotTargeting(){this.bids.setSlotTargeting(this.numberOfImpressions)}invokeCallback(t,i,r,s){const{banner:n}=this.requestUnit,o=n&&n.callback||s;if(e.debug("[BannerUnit] invoking callback",o),o)try{const e=this.bids.getMinPricePaidForUnit(r,t);o({empty:t,size:i,code:this.code(),slotId:this.bids.slotId(),houseAd:r,minPrice:e})}catch(t){e.error(`[BannerUnit] ${this.code()}, err in invoking callback`)}}remakeSlot(){return new Promise((e=>{window.googletag.cmd.push((()=>{const t=this.findSlot();t&&(t.clearTargeting(),window.googletag.destroySlots([t]),this.markSlotAsDestroyed(),this.defineSlot()),e()}))}))}}dt(ct,"houseAdWasRenderedTwiceInRowKey","house_ad_twice_row"),dt(ct,"maxImpressionsBeforeRemakingSlots",64);const ut=ct;let lt,ht,pt,gt,mt,ft,bt;function vt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e[e.VAST1=1]="VAST1",e[e.VAST2=2]="VAST2",e[e.VAST3=3]="VAST3",e[e.VAST1Wrapper=4]="VAST1Wrapper",e[e.VAST2Wrapper=5]="VAST2Wrapper",e[e.VAST3Wrapper=6]="VAST3Wrapper",e[e.VAST4=7]="VAST4",e[e.VAST4Wrapper=8]="VAST4Wrapper",e[e.DAAST1=9]="DAAST1",e[e.DAAST1Wrapper=10]="DAAST1Wrapper",e[e.VAST4_1=11]="VAST4_1",e[e.VAST4_1Wrapper=12]="VAST4_1Wrapper",e[e.VAST4_2=13]="VAST4_2",e[e.VAST4_2Wrapper=14]="VAST4_2Wrapper"}(lt||(lt={})),function(e){e[e.VPAID1=1]="VPAID1",e[e.VPAID2=2]="VPAID2",e[e.MRAID1=3]="MRAID1",e[e.ORMAA=4]="ORMAA",e[e.MRAID2=5]="MRAID2",e[e.MRAID3=6]="MRAID3",e[e.OMID_1_0=7]="OMID_1_0",e[e.SIMID_1_0=8]="SIMID_1_0",e[e.SIMID_1_1=9]="SIMID_1_1"}(ht||(ht={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM"}(pt||(pt={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(gt||(gt={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(mt||(mt={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(ft||(ft={})),function(e){e[e.CLICK_WITH_SOUND=3]="CLICK_WITH_SOUND"}(bt||(bt={}));const wt=[{precision:2,max:20,increment:.05},{precision:2,max:50,increment:.1},{precision:2,max:100,increment:1}];const yt=class extends Qe{constructor(e){super(),vt(this,"unit",void 0),vt(this,"nonSkippableMaxAdDurationKey","max_ad_duration"),vt(this,"skippableMaxAdDurationKey","sdmax"),vt(this,"videoTypeKey","vpos"),vt(this,"descriptionUrlKey","description_url"),vt(this,"prebidBids",void 0),vt(this,"apstagSlots",[]),vt(this,"amazonBid",void 0),vt(this,"googleBid",void 0),this.unit=e,this.prebidBids=[],this.amazonBid=null}isBanner(){return!1}isVideo(){return!0}resetPriceFloorsAndBids(){super.resetPriceFloorsAndBids(),this.removeApstagSlots(),this.amazonBid=null}getPrebidUnits(){const{placements:e}=this.unit.requestUnit.video;e||t.error("[VideoUnit] should have placements");const i=[];return Object.keys(e).forEach((e=>{this.unit.setCurrentPlacement(e);const t=this.toPrebidUnit();i.push(t)})),this.unit.setCurrentPlacement(null),i}getBidsForPrebid(){return this.prebidBids.filter((e=>e.placement===this.unit.getCurrentPlacement())).map((e=>{let{placement:t,...i}=e;return i}))}getHighestPrebidBidResponses(){if(this.unit.getCurrentPlacement())return super.getHighestPrebidBidResponses();{const{placements:e}=this.unit.requestUnit.video,t=Object.keys(e).reduce(((e,t)=>{this.unit.setCurrentPlacement(t);const i=super.getHighestPrebidBidResponses();return e.concat(i)}),[]);return this.unit.setCurrentPlacement(null),t}}toPrebidUnit(){const e=super.toPrebidUnit(),{mediaTypes:t}=e,{placements:i}=this.unit.requestUnit.video,r=this.unit.videoType(),s=this.unit.openRTB(i[this.unit.getCurrentPlacement()],r,!1),n=t.video,o=Object.assign({},n||{},s),a=Object.assign({},t,{video:o});return{...e,mediaTypes:a,ortb2Imp:{ext:{gpid:e.code,data:{pbadslot:e.code}}}}}getAmazonBid(){return this.amazonBid}setAmazonBid(e){const t=e.filter((e=>e.cpm>0));if(0===t.length)return;const i=t.reduce(((e,t)=>e.cpm>=t.cpm?e:t),t[0]);i.cpm>0&&(!this.amazonBid||this.amazonBid.cpm<i.cpm)&&(this.amazonBid=i)}getApstagSlots(){return this.apstagSlots}setApstagSlots(){this.apstagSlots.forEach((e=>{const t=this.computeApsPriceFloor();t&&(e.floor={value:Math.floor(100*t),currency:"USD"})}))}addApstagSlot(e){this.apstagSlotIds.push(e),this.apstagSlots.push({slotID:e,mediaType:"video",sizes:this.unit.getSizes()})}removeApstagSlots(){this.apstagSlots=[],this.apstagSlotIds=[]}getPrebidAmazonBids(){const e=this.getCurrentWinningPrebidBids().map((e=>({cpm:e.cpm,bidder:e.bidderCode,responseTimestamp:e.responseTimestamp}))),t=this.getAmazonBid(),i=t?{cpm:this.usdToEuro(t.cpm),bidder:"amazon",requestTimestamp:Date.now(),amzniid:t.amzniid}:null;return i?{amazon:i,prebid:e}:{prebid:e}}getCurrentWinningPrebidBids(){if(!this.pbjs||!this.pbjs.getBidResponsesForAdUnitCode)return[];try{return this.getHighestPrebidBidResponses()}catch(e){return console.error(e),[]}}setGoogleVideoBid(e,t){var i;const r=t?"skippableMaxDuration":"nonSkippableMaxDuration",s=(null===(i=this.googleBid)||void 0===i?void 0:i[r])||-1,{maxDuration:n=-1,...o}=e,a=Math.max(s,n);this.googleBid={...this.googleBid,...o,...a>0&&{[r]:a}}}async buildUrlWithConsent(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await this.consentParams();return this.buildUrl(e,t,r,i)}highestPrebidBid(){const{placements:e}=this.unit.requestUnit.video,t=Object.keys(e).map((e=>{this.unit.setCurrentPlacement(e);return{bid:this.currentWinningPrebidBid(),placement:e}})),i=t.reduce(((e,t)=>{var i;return t.bid?null!==(i=e.bid)&&void 0!==i&&i.cpm&&e.bid.cpm>=t.bid.cpm?e:t:e}),t[0]);return this.unit.setCurrentPlacement(null),i}buildUrl(e,i,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=this.highestPrebidBid();this.unit.setCurrentPlacement(n.placement);const o=this.unit.code(),a=(e.adUnits||[]).filter((e=>e.code===o));if(1!==a.length)throw new Error("[VideoUnit] Display video expected single unit");t.debug(`[VideoUnit] ${o} has highest bid`);const d=a[0],c={};Object.entries(s).forEach((e=>{let[t,i]=e;t&&i&&(c[t]=i)}));const u=this.getGooglePriceFloor(),l=u&&this.priceFloorTargeting(u);let h={};if(l){const e=parseFloat(l);h={pubf:Math.floor(1e6*e).toFixed(0)}}const p={iu:this.unit.requestUnit.slotId,ad_type:"video",tfcd:i.tfcd||0,trt:this.trt(),vad_type:"linear",plcmt:ft.INSTREAM,...r,...this.customUrlParams(),cust_params:{...c,...u&&{[this.priceFloorKey]:l},...h}};t.debug(`[VideoUnit] URL Params ${JSON.stringify(p)}`);const g=e.adServers.dfp.buildVideoUrl({adUnit:d,params:p});this.unit.setCurrentPlacement(null);const m=this.getAmazonBid();if(m){const e=new URL(g),t=`${e.searchParams.get("cust_params")}${m.qsParams}`;return e.searchParams.set("cust_params",t),e.toString()}return g}customUrlParams(){if(!this.unit.requestOptions.video||!this.unit.requestUnit.video)return{};if(!this.googleBid)return t.warn("[VideoUnit] Missing a google bid"),{};const e=this.unit.videoType(!0),{skippableMaxDuration:i,nonSkippableMaxDuration:r,descriptionUrl:s}=this.googleBid;return{...i&&{[this.skippableMaxAdDurationKey]:1e3*i},...r&&{[this.nonSkippableMaxAdDurationKey]:1e3*r},...e&&{[this.videoTypeKey]:this.videoTypeParam(e)},...s&&{[this.descriptionUrlKey]:s}}}videoTypeParam(e){switch(e){case"rewarded":case"preroll":return"preroll";case"midroll":return"midroll";default:return t.error(`[VideoUnit] Unexpected Video Type ${e}`),"preroll"}}trt(){return this.unit.requestOptions.trafficSource?"purchased"===this.unit.requestOptions.trafficSource?1:2:0}async consentParams(){var e;const t=K((null===(e=this.unit.requestOptions.clientInfo)||void 0===e?void 0:e.country)||null),i=await ce.getInstance().getUspConsent(),r=i?{us_privacy:i.uspString}:{};if(t){return{...ce.getInstance().hasTCFConsent()?{}:{npa:1},...r}}return{npa:0,...r}}getPriceBuckets(){return wt}};function St(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const At=class extends at{constructor(e,t){super(e,t),St(this,"bids",void 0),St(this,"currentPlacement",null),this.bids=new yt(this)}canRender(){return!0}getBids(){return this.bids}mediaType(){return this.requestUnit.adUnit.mediaTypes.video}isVideo(){return!0}videoType(e){const t=this.requestUnit.video.videoType;return e||"midroll"!==t?t:"preroll"}bidParamsForBidder(e,t,i){return e.customVideoBidParams(t,this,i)}addPrebidBid(e){const t={...e,placement:this.currentPlacement};super.addPrebidBid(t)}code(){const e=super.code();return this.currentPlacement?`${e}-${this.currentPlacement}`:e}getAllCodes(){return Object.keys(this.requestUnit.video.placements).map((e=>this.codeWithPlacement(e)))}getCurrentPlacement(){return this.currentPlacement}setCurrentPlacement(e){this.currentPlacement=e}setBidderBid(t,i,r){const{placements:s}=this.requestUnit.video,n=this.videoType();s||e.error("[VideoUnit] should have placements"),Object.keys(s).forEach((e=>{this.currentPlacement=e;const o=s[e],a=this.openRTB(o,n,"google"===i.code),d=(o.bidders||[]).find((e=>e.bidder===i.code));d?i.setBidding(t,this,d,{...r,openRTB:a}):i.setBidding(t,this,null,{...r,openRTB:a})})),this.currentPlacement=null}checkBidderSettings(e,t){return t.checkVideoSettings(e,this)}invokeCallback(t,i){const{video:r}=this.requestUnit,s=r&&r.callback||i;if(!s)return;const n=this.bids.getPrebidAmazonBids();try{var o,a;const e=this.bids.highestPrebidBid(),i=e.bid?e.placement:null,r=this.code(),d=i?this.codeWithPlacement(i):null,c=[...n.amazon?[n.amazon]:[],...n.prebid];s(t,r,c,d,this.getAdsVideoCallback({prebidAdUnitCode:null===(o=e.bid)||void 0===o?void 0:o.adUnitCode,amazonBidId:null===(a=n.amazon)||void 0===a?void 0:a.amzniid}))}catch(t){e.error(`[VideoUnit] ${this.code()}, err in invoking callback`)}}openRTB(e,t,i){const{skippable:r}=e,s=e.maxDuration,n=e.googleMaxDuration||s,o=i?n:s,a=this.getStartdelay(t),d={...this.baseOpenRTB(),minduration:1,startdelay:a,...void 0!==o?{maxduration:o||15}:{},...void 0!==r?{skip:r?1:0}:{}};return r&&(d.skipafter=5),d}codeWithPlacement(e){return`${super.code()}-${e}`}getStartdelay(e){return"midroll"===e?-1:0}baseOpenRTB(){return{context:"instream",protocols:[lt.VAST1,lt.VAST2,lt.VAST3,lt.VAST2Wrapper,lt.VAST3Wrapper,lt.VAST4,lt.VAST4Wrapper],api:[ht.OMID_1_0,ht.SIMID_1_0,ht.VPAID2,ht.SIMID_1_1],mimes:["video/mp4","video/webm","video/quicktime","video/ogg","application/javascript"],linearity:pt.INSTREAM,minbitrate:10,maxbitrate:1e4,placement:gt.INSTREAM,plcmt:mt.INSTREAM,playbackmethod:[bt.CLICK_WITH_SOUND]}}getAdsVideoCallback(t){return i=>{e.debug("[VideoCallback] Video callback invoked with options",i,"and prebid/amazon ids",t);const{creativeIds:r,forceMarkAsUsed:s}=i,{prebidAdUnitCode:n,amazonBidId:o}=t;n&&(s||(e=>e.some((e=>st.includes(e))))(r))?this.markPrebidBidAsUsed(n):o&&(s||(e=>e.some((e=>nt.includes(e))))(r))&&this.markAmazonBidAsUsed(o)}}markPrebidBidAsUsed(t){try{e.debug("[CrazyAds] Marking winning Prebid video as used",t);const i=x();i.adUnits.find((e=>e.code===t))||e.error("[CrazyAds] Adunit not found for bid",t),i.markWinningBidAsUsed({adUnitCode:t})}catch(i){e.error(i,"[CrazyAds] Failed to mark winning video bid as used",t)}}markAmazonBidAsUsed(e){}};const Bt=class{static createAdUnit(t,i){const{mediaTypes:r}=t.adUnit,s=!!r.video,n=!!r.banner;return n&&s&&e.warn(`[AdUnitFactory] ${t.adUnit.code} has multiple formats`),n?new ut(t,i):s?new At(t,i):(e.error(`[AdUnitFactory] ${t.adUnit.code} has no supported formats`),null)}},Pt="10.7.0";function It(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const kt=new class{constructor(){It(this,"listeners",[]),It(this,"listenerInstalled",!1),It(this,"internalListener",(e=>{this.listeners.forEach((t=>{t(e)}))}))}removeAllListeners(){this.listeners=[],this.removeListener()}addListener(e){this.installListener(),this.listeners.push(e)}installListener(){if(this.listenerInstalled)return;this.listenerInstalled=!0;window.googletag.pubads().addEventListener("slotRenderEnded",this.internalListener)}removeListener(){if(!this.listenerInstalled)return;window.googletag.pubads().removeEventListener("slotRenderEnded",this.internalListener),this.listenerInstalled=!1}};function Ut(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Tt=[138449654392,138233616993,138233616990,138233681903,138233616984,138233616981,138233681900,138233681897,138233738059,138233738062,138233681894],xt=["amznactt","amznbid","amzniid","amznp","amznsz"],_t={amznbid:2,amznp:2};const Ct=class{constructor(e){this.pbjs=e,Ut(this,"renderListener",kt),Ut(this,"googleTagEnabled",!1)}render(e,t,i,r,s,n,o){if(0===e.length)return Promise.resolve();const{adsenseUnits:a,amazonAndPrebidUnits:d}=this.groupAdunitsByType(e);if(a.length>0&&this.renderAdsense(a),0===d.length)return Promise.resolve();const c=this.processSlotRenderedEvent(e,w.advertiserIds||[],s);return new Promise((s=>{window.googletag.cmd.push((()=>{this.renderListener.removeAllListeners(),this.renderListener.addListener(c),e.forEach((e=>e.increaseNumberOfImpressions())),window.googletag.pubads().clearTargeting(),this.pbjs.que.push((async()=>{this.setAmazonTargeting(r),this.createDfpObjects(d,t,o),this.setPrebidTargeting(i),await this.showAds(e,n),s()}))}))}))}renderAdsense(t){e.debug("[BannerRenderer] Rendering AdSense");const i=window;t.forEach((()=>{(i.adsbygoogle=i.adsbygoogle||[]).push({})}))}async showAds(e,t){await E()&&!t&&await O(!0),e.forEach((e=>e.display())),e.length>0&&window.googletag.pubads().refresh(e.map((e=>e.getSlot())))}createDfpObjects(e,t,i){this.enableGoogletag(i),this.createDfpTargets(e,t)}enableGoogletag(e){if(!this.googleTagEnabled){if(this.googleTagEnabled=!0,window.googletag.pubads().enableSingleRequest(),e){const t="organic"===e?window.googletag.enums.TrafficSource.ORGANIC:window.googletag.enums.TrafficSource.PURCHASED;window.googletag.pubads().setPrivacySettings({trafficSource:t})}window.googletag.enableServices()}}createDfpTargets(e,t){Object.entries(t).forEach((e=>{let[t,i]=e;t&&i&&this.setDfpTarget(t,i)})),e.forEach((e=>e.setSlotTargeting()))}setDfpTarget(t,i){if(null==i)return;let r;e.debug(`[googletag] Target ${t} ${i}`),r=Array.isArray(i)?i.map((e=>`${e}`)):`${i}`,window.googletag.pubads().setTargeting(t,r)}setAmazonTargeting(t){0===t.length||t.forEach((t=>{const i=window.googletag.pubads().getSlots().find((e=>e.getSlotElementId()===t.slotID));if(i){const e=Xe.getHighestBidForSlotIds([t.slotID],t.sizes);e?xt.forEach((t=>{const r=e[t];r&&i.setTargeting(t,r)})):Object.entries(_t).forEach((e=>{let[t,r]=e;i.setTargeting(t,r.toString())}))}else e.warn(`[BannerRenderer] No googletag slot found for apstag slot with ID ${t.slotID}`)}))}setPrebidTargeting(e){0===e.length||(this.pbjs&&this.pbjs.setTargetingForGPTAsync&&this.pbjs.setTargetingForGPTAsync(e.map((e=>e.code))),this.pbjs&&this.pbjs.registerSignalSources&&this.pbjs.registerSignalSources())}processSlotRenderedEvent(t,i,r){return s=>{const{advertiserId:n,slot:o}=s,a=t.filter((e=>e.slotId()===o.getAdUnitPath()));if(0===a.length)return void e.warn(`[BannerRenderer] No matching unit for slot ${o.getAdUnitPath()}`);if(a.length>1)return void e.warn(`[BannerRenderer] Multiple units (${a.length}) for slot ${o.getAdUnitPath()}`);const d=a[0],c=this.checkIfHouseAd(n,i,d);this.updateAmazonState(s),this.invokeUnitCallback(s,d,c,r.callback)}}checkIfHouseAd(e,t,i){const r=null===e||t.some((t=>t===e));return r?i.renderedHouseAd():i.renderedNonHouseAd(),r}invokeUnitCallback(e,t,i,r){t.invokeCallback(e.isEmpty,e.size,i,r)}updateAmazonState(t){const i=t.slot.getSlotElementId(),r=t.slot.getTargeting("amzniid"),s=null==r?void 0:r[0];if(s){var n;const r=window.apstag.debug("getState"),o=t.slot.getResponseInformation(),a=o?t.slot.getHtml():"",d=!(!a.includes("apstag.renderImp")||!a.includes(s)),c=Tt.includes((null==o?void 0:o.creativeId)??0);d!==c&&e.error(`[BannerRenderer] isAmazonWin (from the slot html) ${d} is not equal to isAmazonCreative (based on the banner creative ids) ${c}`),d&&Xe.markBidAsUsed(s);((null==r||null===(n=r.slotBids)||void 0===n?void 0:n[i])||[]).forEach((e=>{const{bidConfig:t}=e;d&&t.amzniid===s&&(e.bidState="RENDERED"),(t.amzniid===s&&"RENDERED"!==e.bidState||t.amzniid!==s&&"SET"===e.bidState)&&(e.bidState="EXPOSED")}))}}groupAdunitsByType(e){const t=[],i=[];return e.forEach((e=>{e.getBids().hasAdsenseBid()?t.push(e):i.push(e)})),{adsenseUnits:t,amazonAndPrebidUnits:i}}};const Rt=class{constructor(e){this.pbjs=e}render(e,t,i){const{callback:r}=t;return e.forEach((e=>{const t=this.createRenderCallback(e,i);e.invokeCallback(t,r)})),Promise.resolve()}createRenderCallback(e,t){return i=>this.renderCallback(e,i,t)}async renderCallback(t,i,r){const s=await t.getBids().buildUrlWithConsent(this.pbjs,i,r);return e.debug(`[VideoRenderer] URL generated for ${t.code()}: ${s}`),s}};function zt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const jt=class{constructor(e){zt(this,"videoRenderer",void 0),zt(this,"bannerRenderer",void 0),zt(this,"cookieDeprecationLabel",null),zt(this,"dfpParams",void 0),zt(this,"videoOptions",void 0),zt(this,"bannerOptions",void 0),this.videoRenderer=new Rt(e),this.bannerRenderer=new Ct(e),this.dfpParams=this.defaultDfpKeys(),this.videoOptions={},this.bannerOptions={}}async render(e,t,i,r){const{video:s,banner:n}=this.splitUnitsByType(e),o=await this.createDfpPredefinedValues(t.requestTimeout||1200);this.dfpParams=Object.assign(this.defaultDfpKeys(),o,t.dfp),this.videoOptions=Object.assign(this.videoOptions,t.video),this.bannerOptions=Object.assign(this.bannerOptions,t.banner),await Promise.all([this.bannerRenderer.render(n,this.dfpParams,i,r,this.bannerOptions,!!t.disableBlockthrough,t.trafficSource),this.videoRenderer.render(s,this.videoOptions,this.dfpParams)])}splitUnitsByType(e){return e.reduce(((e,t)=>{let{video:i,banner:r}=e;return t.isVideo()?{video:[...i,t],banner:r}:{video:i,banner:[...r,t]}}),{video:[],banner:[]})}defaultDfpKeys(){return Object.assign({},v.advertising.dfp||{})}async createDfpPredefinedValues(e){await this.setCookieDeprecationLabel();return{version:Pt,timeout:`${e}`,...this.cookieDeprecationForDfp()}}cookieDeprecationForDfp(){if(!this.cookieDeprecationLabel)return{};return{cookie_depr_2024:["control_1.1","control_1.2","control_1.3","control_1.4","label_only_1","label_only_2","label_only_3","label_only_4","label_only_5","treatment_1.1","treatment_1.2","treatment_1.3","control_2","not_set","not_defined"].includes(this.cookieDeprecationLabel)?this.cookieDeprecationLabel:"other"}}async setCookieDeprecationLabel(){if(null===this.cookieDeprecationLabel)if("cookieDeprecationLabel"in window.navigator){const e=await window.navigator.cookieDeprecationLabel.getValue();""===e.trim()?this.cookieDeprecationLabel="not_set":this.cookieDeprecationLabel=e}else this.cookieDeprecationLabel="not_defined"}};function Et(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const qt="liveramp_enabled",Ft=[ie,re,se];var Ot;!function(e){e.DOES_NOT_APPLY="1---",e.DEFAULT="1YNN"}(Ot||(Ot={}));class Dt{constructor(e){Et(this,"pbjs",void 0),Et(this,"config",void 0),Et(this,"amazonConfig",void 0),Et(this,"prebidAdUnits",void 0),Et(this,"adUnits",void 0),Et(this,"renderer",void 0),Et(this,"isApstagInitialized",void 0),Et(this,"isPrebidInitialized",void 0),Et(this,"isGoogletagInitialized",void 0),Et(this,"prebidFailedToLoad",void 0),Et(this,"apstagFailedToLoad",void 0),Et(this,"previousUserDetails",void 0),Et(this,"experiments",void 0),this.pbjs=x(),this.initGoogletag(),this.config=e,this.adUnits=[],this.prebidAdUnits=[],this.renderer=new jt(this.pbjs),this.isApstagInitialized=!1,this.isPrebidInitialized=!1,this.isGoogletagInitialized=!1,this.prebidFailedToLoad=!1,this.apstagFailedToLoad=!1,window.googletag.cmd.push((()=>{window.googletag.pubads().disableInitialLoad(),window.googletag.setConfig({threadYield:"ENABLED_ALL_SLOTS"})}))}requestAds(t,i){const r=t.units.some((e=>!!e.adUnit.mediaTypes.banner));return e.debug("[AdRequester] Requesting ads",t,"with options",i),this.isPrebidInitialized?this.updatePrebidConfig(i):this.setPrebidConfig(i,{adFormat:r?"banner":"video"}),new Promise((async(s,n)=>{const o=[W(),b.waitTillLoaded()];r&&o.push(L.loadIfNeeded().catch((()=>{i.disableBlockthrough||O()}))),await Promise.allSettled(o),await this.createAndUpdateAdUnits(t,i);const a=t.codes??t.units.map((e=>e.adUnit.code)),d=this.selectRequestedUnits(a),c=new Ve(this,this.config),u=await c.requestAds(d,i);e.debug("[AdRequester] Finished requesting ads with result",u),s(u)}))}reset(){return this.adUnits=[],this.prebidAdUnits=[],this.pbjs.removeAdUnit(),this.isPrebidInitialized=!1,this.isGoogletagInitialized=!1,this.destroyDfpSlots()}initGoogletag(){const e=window;window.googletag=window.googletag||{},e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[]}async createAndUpdateAdUnits(e,t){e.units.forEach((e=>{const i=e.adUnit.code,r=this.adUnits.map((e=>e.code())).indexOf(i);if(r>-1){const i=this.adUnits[r];if(i.isBanner())i.resetForRender(e,t),i.increaseNumberOfRequests();else{const i=Bt.createAdUnit(e,t);this.adUnits[r]=i}}}));const i=e.units.filter((e=>!this.adUnits.map((e=>e.code())).includes(e.adUnit.code))).map((e=>Bt.createAdUnit(e,t))).filter((e=>null!==e)),r=i.filter((e=>e.isBanner()));r.length>0&&await this.createDfpSlots(r),this.adUnits.push(...i)}selectRequestedUnits(t){const i=this.adUnits.filter((e=>t.includes(e.code()))),r=i.filter((e=>e.canRender()));return e.debug(`[AdRequester] Requesting ${i.length} units, of wich ${r.length} can actually be rendered and will be included`,r.map((e=>e.code()))),r}addPrebidUnit(e){this.prebidAdUnits.push(e)}removePrebidUnit(e){this.prebidAdUnits=this.prebidAdUnits.filter((t=>t.code!==e))}setApstagConfig(e){this.amazonConfig=e}getPrebidFailedToLoad(){return this.prebidFailedToLoad}getApstagFailedToLoad(){return this.apstagFailedToLoad}getPrebidAdUnits(){return this.prebidAdUnits}apstag(){return window.apstag}setBidsForUnits(t,i,r){t.forEach((t=>{try{t.setBids(this,r,i);const e=t.getBids().getPrebidUnits();r.some((e=>"amazon"===e.code))&&t.setApstagSlots();(t.isVideo()?t.getAllCodes():[t.code()]).forEach((e=>this.removePrebidUnit(e))),e.forEach((e=>this.addPrebidUnit(e)))}catch(i){e.error(`[AdRequest] ${t.code} error in setBids`,i)}}))}loadScripts(t,i){k.loadIfNeeded().catch((()=>{i||O(!0).catch((()=>{e.error("[AdRequester] Failed to load blockthrough")})),this.prebidFailedToLoad=!0,t("prebid")})),i||O().catch((()=>{e.error("[AdRequester] Failed to load blockthrough")}))}loadAdsenseIfBid(){this.adUnits.some((e=>e.getBids().hasAdsenseBid()))&&A().catch((()=>{e.error("[AdRequester] failed to load adsense")}))}async loadAmazon(t){e.debug("[AdRequester] loading and initializing amazon");try{await _.loadIfNeeded()}catch(i){e.debug("[AdRequester] Apstag failed to load"),this.apstagFailedToLoad=!0,t()}}setPrebidConfig(e,t){var i;this.isPrebidInitialized=!0;const{pageUrl:r}=e,s=null===(i=e.clientInfo)||void 0===i?void 0:i.country,n=this.getConsentConfig(s||null),o=this.getUserSyncConfig(e),a={useBidCache:!e.noBidCaching};if(a.useBidCache){const e=e=>!!e.cpm,t=e=>e.responseTimestamp+1e3*e.ttl+1e3>(new Date).getTime(),i=i=>e(i)&&t(i);a.bidCacheFilterFunction=i}const d=this.prebidServerConfig(t.adFormat);this.pbjs.que.push((()=>{var t;this.pbjs.aliasBidder("aniview","venatus"),this.pbjs.aliasBidder("limelightDigital","iionads"),this.pbjs.aliasBidder("appnexus","webads"),this.pbjs.aliasBidder("appnexus","goldbach"),this.pbjs.aliasBidder("appnexus","beintoo"),this.pbjs.aliasBidder("nexx360","adbility"),this.pbjs.setConfig({...e.pbjsConfig,minBidCacheTTL:60,eventHistoryTTL:60,gptPreAuction:{enabled:!0,useDefaultPreAuction:!0},enableTIDs:!0,pageUrl:r||(null===(t=e.pbjsConfig)||void 0===t?void 0:t.pageUrl),ortb2:this.ortb2Config(e)||void 0,floors:{enforcement:{bidAdjustment:!0,enforceJS:!0,floorDeals:!0,enforcePBS:!0}},userSync:o,rubicon:{singleRequest:!0},...a,enableSendAllBids:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userIdTargeting:{GAM:!0},mediaTypePriceGranularity:{video:{buckets:wt},banner:{buckets:tt}},timeoutBuffer:400,disableAjaxTimeout:!0,...n,sendBidsControl:{bidLimit:1},...d}),this.refreshUserIdsIfNeeded(e)}))}updatePrebidConfig(e){var t;const{pageUrl:i}=e,r=null===(t=e.clientInfo)||void 0===t?void 0:t.country,s=this.getConsentConfig(r||null);this.pbjs.que.push((()=>{var t;this.pbjs.mergeConfig({...e.pbjsConfig,pageUrl:i||(null===(t=e.pbjsConfig)||void 0===t?void 0:t.pageUrl),ortb2:this.ortb2Config(e)||void 0,useBidCache:!e.noBidCaching,...s})}))}getConsentConfig(e){if(!e)return{};if(K(e)){return{consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,defaultGdprScope:!0},usp:{timeout:0}}}}if(Y(e)){return{consentManagement:{usp:{timeout:1e3,cmpApi:"iab"}}}}return{consentManagement:{usp:{timeout:0}}}}getUserSyncConfig(e){const t={syncDelay:15e3,encryptedSignalSources:{sources:[{source:["criteo.com","adserver.org","id5-sync.com","sharedid.org"],encrypt:!1}]}},i=[{name:"criteo"},{name:"unifiedId",params:{partner:"c67xkla"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}},{name:"id5Id",params:{partner:377},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"sharedId",storage:{name:"sharedid",type:"cookie"},params:{syncTime:86400}},{name:"lotamePanoramaId"}],r=this.getExperiments(e),s=r.uid2_exp,n=r[te],o=r[qt],{user:a}=e;return s&&null!=a&&a.email&&i.push({name:"uid2",params:{email:a.email,subscriptionId:"riMWtTJCBu",serverPublicKey:"UID2-X-P-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEjW+JEvJ+KsLeM9aimChBr//9M5kuzJ1Xcl6oC1hQ7K6S6ezNd1odmmLwViFqhyhZaW3OdLk4DaSuacb3jQHQDQ=="}}),n&&i.push({name:"liveIntentId",params:{emailHash:(null==a?void 0:a.email)??"",publisherId:"84896",requestedAttributesOverrides:{pubmatic:!0,magnite:!0,index:!0,uid2:!0}},storage:{name:"__tamLIResolveResult",type:"html5",expires:1}}),o&&i.push({name:"identityLink",params:{pid:"13431"},storage:{type:"html5",name:"idl_env",expires:1}}),t.userIds=i,t.filterSettings={iframe:{bidders:["stroeerCore"],filter:"include"}},t}refreshUserIdsIfNeeded(t){const{user:i}=t;if(void 0!==i){var r;if((null===(r=this.previousUserDetails)||void 0===r||!r.email)&&i.email){const t=this.experiments??{},i=t[te],r=t.uid2_exp,s=t[qt],n=[];r&&n.push("uid2"),i&&n.push("liveIntentId"),s&&n.push("identityLink"),e.debug("userIdsToRefresh",n),n.length>0&&this.pbjs.refreshUserIds({submoduleNames:n})}this.previousUserDetails=i}}ortb2Config(t){const{pageUrl:i,ortb2Site:r}=t,s=i||(null==r?void 0:r.page);if(!s)return null;try{const e=new URL(s),i=this.getExperiments(t),{content:n,...o}=r??{};return{site:{...o,...null!=i&&i.content_exp_24?{content:n}:{},page:s,domain:e.host}}}catch(t){return e.error(`[AdRequester] Invalid pageUrl ${i}`),null}}prebidServerConfig(e){return oe.getInstance().getExperimentValueAsBoolean(se)&&"banner"===e?{s2sConfig:{enabled:!0,accountId:"16980",bidders:["s2s_rubicon"],defaultVendor:"rubicon",timeout:300,adapter:"prebidServer",allowUnknownBidderCodes:!0,extPrebid:{cache:{vastxml:{returnCreative:!1}},aliases:{s2s_rubicon:M("s2s_rubicon")}}}}:null}async initializeApstag(t){if(this.isApstagInitialized)return;this.isApstagInitialized=!0;const{params:i,...r}=this.amazonConfig,s={...r,params:{...i,videoAdServer:"DFP",us_privacy:await this.apstagPrivacy(t)}};e.debug("[AdRequester] Settings apstag config",s),this.apstag().init(s)}async apstagPrivacy(t){var i;const r=null===(i=t.clientInfo)||void 0===i?void 0:i.country;if(!r)return Ot.DOES_NOT_APPLY;if(!Y(r))return Ot.DOES_NOT_APPLY;try{const e=await ce.getInstance().getUspConsent();return(null==e?void 0:e.uspString)??Ot.DEFAULT}catch(t){return e.log(t),Ot.DEFAULT}}createDfpSlots(e){return e.length>0?this.isGoogletagInitialized?new Promise((t=>{window.googletag.cmd.push((()=>{e.forEach((e=>e.defineSlot())),t()}))})):(this.isGoogletagInitialized=!0,new Promise((t=>{window.googletag.cmd.push((()=>{window.googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!1,sandbox:!0}),e.forEach((e=>e.defineSlot())),t()}))}))):Promise.resolve()}destroyDfpSlots(){const e=this.adUnits.filter((e=>e.isBanner()));return 0===e.length?Promise.resolve():new Promise((t=>{window.googletag.cmd.push((()=>{const i=e.map((e=>e.findSlot())).filter((e=>!!e));window.googletag.destroySlots(i),e.forEach((e=>e.markSlotAsDestroyed()));const r=window.googletag.pubads().getTargetingKeys(),s=["criteoId","id5id","tdid"];r.filter((e=>!s.includes(e))).forEach((e=>{window.googletag.pubads().clearTargeting(e)})),t()}))}))}async renderBids(t,i){const r="google",s={bidder:r,video:{placements:{}},...V(r,this.config.bidders||[])},n=i;i.googleBidder&&(n.bidders=[i.googleBidder]);const o=De.createBidder(r,s,n);this.setBidsForUnits(t,i,[o]);const a=t.map((e=>e.shouldRenderBid(i.filterFn))).filter((e=>!!e)),d=this.getPrebidAdUnitsForUnits(a),c=this.getApstagSlotsForUnits(a),u=a.some((e=>e.isVideo()))?"video":"banner";i.dfp=this.getGamKeyValues(i.dfp||{},u),e.debug("[AdRequester] Rendering bids",a,d,c),await this.renderer.render(t,i,d,c)}async renderBanners(t,i){const r=this.selectRequestedUnits(t);e.debug("[AdRequester] Rendering banners",t,i),e.debug("[AdRequester] Selected ad units",r),await this.renderBids(r,i)}getPrebidAdUnitsForUnits(e){const t=[];return e.forEach((e=>{if(e.isVideo()){e.getAllCodes().forEach((e=>t.push(e)))}else t.push(e.code())})),this.getPrebidAdUnits().filter((e=>t.some((t=>t===e.code))))}getApstagSlotsForUnits(e){const t=[];return e.forEach((e=>{const i=e.getApstagSlots();i&&i.length>0&&t.push(...i)})),t}getExperiments(e){return this.experiments||(this.experiments=this.setUpExperiments(e)),this.experiments}setUpExperiments(e){var t,i;const r={},{user:s}=e,n=(null===(t=e.clientInfo)||void 0===t?void 0:t.country)||null;if((e=>Y(e)||"CA"===e)(n)){const e=oe.getInstance().getExperimentValueAsBoolean(te);void 0!==e&&(window.liModuleEnabled=e,r[te]=e)}(e=>!e||["US","CA","MX","JP","HK","AU","NZ","ID","SG","AR","TW"].includes(e))(n)&&(r[qt]=!0,P().then((()=>{null!=s&&s.email&&window.ats.setAdditionalData({type:"email",id:s.email})}))),void 0!==(null==s||null===(i=s.uid2)||void 0===i?void 0:i.applicable)&&(e=>{return!(t=e,!t||G.indexOf(t)>=0||"GB"===e);var t})(n)&&null!=s&&s.email&&(r.uid2_exp=s.uid2.applicable),r.email_available=!(null==s||!s.email);for(const e of Ft)r[e]=!!oe.getInstance().getExperimentValueAsBoolean(e);return r}getGamKeyValues(e,t){return{...e,...this.getExperimentGAMKeyValues(),...c.getIncrementalBidderGamKeys(t)}}getExperimentGAMKeyValues(){const e=this.experiments??{},t={},i=e.email_available?"EmailAvailable":"EmailUnavailable",r=e[te];if(void 0!==r){const e=function(e){if(k.isPrebidLoaded()){const t=window.pbjs,i=t.adUnits,r=t.getAllPrebidWinningBids().length;let s=e?"t1":"t0";return s+=function(e){return!(!e||!e.some((e=>e.bids&&e.bids.some((e=>e.userIdAsEids&&e.userIdAsEids.some((e=>"liveintent.com"===e.source||e.uids&&e.uids.some((e=>e.ext&&"liveintent.com"===e.ext.provider)))))))))}(i)?"-e1":"-e0",s+=0===r?"-wa":"-ws",s}return null}(r);e&&(t["li-module-enabled"]=e,t.liveintent_exp3_24=`${s=r,s?"enabled":"disabled"}${i}`)}var s;for(const i of Ft){const r=e[i];void 0!==r&&(t[i]=`${r}`)}return t}}function Lt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Vt=class{constructor(){Lt(this,"queue",[]),Lt(this,"_adRequester",null)}queueRequest(e,t){return new Promise(((i,r)=>{const s={type:"request",options:t,request:e,deferred:{resolve:i,reject:r}};this.enqueue(s)}))}queueReset(){return new Promise(((e,t)=>{const i={type:"reset",options:{},request:{},deferred:{resolve:e,reject:t}};this.enqueue(i)}))}render(e,t){return this.adRequester.renderBanners(e,t)}enqueue(e){this.queue.push(e),1===this.queue.length&&this.processQueue()}async processQueue(){if(this.queue.length>0){const e=this.queue[0];try{const t=await this.processRequest(e);e.deferred.resolve(t)}catch(i){t.error(i),e.deferred.reject()}return this.queue.shift(),this.processQueue()}}processRequest(e){const{type:t}=e;if("request"===t){const t=e;return this.adRequester.requestAds(t.request,t.options)}return this.adRequester.reset()}get adRequester(){return this._adRequester||(this._adRequester=new Dt(v.advertising)),this._adRequester}};let Mt,Nt=!1;async function $t(t,i){try{Mt||(Mt=new Vt);return await Mt.queueRequest(t,i)}catch(t){e.error(t)}}async function Wt(t,i){try{if(!Mt)throw new Error("[CrazyAds] Expected a request before a render");await Mt.render(t,i)}catch(t){e.error(t)}}e.debug("[CrazyGamesAds] Loaded Version 10.7.0"),window.CrazygamesAds={requestAds:async function(t,i){try{const e=await $t(t,i),r=t.codes||t.units.map((e=>e.adUnit.code));return await Wt(r,{...i,requestTimeout:i.timeout}),e}catch(t){e.error(t)}},requestOnly:$t,reset:async function(){try{if(!Mt)throw new Error("[CrazyAds] Expected a request before a reset");await Mt.queueReset()}catch(t){e.error(t)}},render:Wt,nextPage:function(){window.googletag&&window.googletag.cmd&&window.googletag.cmd.push((function(){window.googletag.destroySlots()})),Mt=new Vt},hasAdblock:E,initAds:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.debug("initialising ads",t),Nt||(Nt=!0,E(),W(),k.loadIfNeeded().catch((e=>{})),b.fetchConfig())},installRequiredLocatorFrames:function(){return W()},addTCFConsentListener:function(e){ce.getInstance().addTCFConsentListener(e)},removeTCFConsentListener:function(e){ce.getInstance().removeTCConsentListener(e)},markPrebidBidAsUsed:function(t){try{e.debug("[CrazyAds] Marking winning video bid as used",t);const i=x();if(t.adUnitCode){i.adUnits.find((e=>e.code===t.adUnitCode))||e.error("[CrazyAds] Adunit not found for bid",t)}i.markWinningBidAsUsed(t)}catch(i){e.error(i,"[CrazyAds] Failed to mark winning video bid as used",t)}}}})()})();